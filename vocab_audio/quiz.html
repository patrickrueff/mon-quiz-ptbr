<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Quiz ‚Äî Tous les mots</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>:root{
  --bg:#0b0f14;--card:#121821;--text:#eef3fb;--muted:#b8c0cc;--accent:#5aa0ff;--accent2:#8ad1ff;--border:#1e2632
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:radial-gradient(1000px 600px at 20% -10%,#16202d 0%,#0b0f14 60%) no-repeat fixed,var(--bg);
  color:var(--text);padding:32px 16px 80px}
.container{max-width:1000px;margin:0 auto}
h1{margin:0 0 8px} h2{margin:22px 0 12px} .sub{color:var(--muted);margin:0 0 24px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);
  border:1px solid var(--border);border-radius:16px;padding:16px;display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center}
.badge{min-width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
  background:linear-gradient(135deg,var(--accent),var(--accent2));color:#0b0f14;font-weight:700;border:1px solid rgba(255,255,255,.2);
  box-shadow:0 6px 14px rgba(90,160,255,.35)}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.texts{display:flex;gap:12px;align-items:center}
.texts .label{display:grid;place-items:center}
.pt{font-size:18px;font-weight:700;line-height:1.2}
.phon{color:#9fb4cc;font-size:13px;margin-top:2px}
.fr{color:var(--muted);margin-top:2px;font-size:14px}
.actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
button,a.btn{border:1px solid var(--border);background:#0e141d;color:#eef3fb;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:600;
  transition:transform .05s ease,border-color .2s ease;text-decoration:none;display:inline-flex;align-items:center;gap:6px}
button:hover,a.btn:hover{border-color:var(--accent)} button:active,a.btn:active{transform:translateY(1px)}
.small{font-size:12px;color:var(--muted)}
.footer{position:fixed;left:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);
  border-top:1px solid var(--border);padding:10px 16px;color:var(--muted);font-size:12px;display:flex;justify-content:center}
.toolbar{display:flex;gap:10px;align-items:center;margin:16px 0 20px;flex-wrap:wrap}
.toolbar input,.toolbar select{flex:1;min-width:220px;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0e141d;color:#eef3fb;outline:none}
.quiz-wrap{max-width:720px;margin:0 auto}
.quiz-card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:14px}
.choice{border:1px solid var(--border);border-radius:10px;padding:10px 12px;cursor:pointer;background:#0e141d}
.choice.correct{border-color:#3ddc97} .choice.wrong{border-color:#ff6b6b}
.kpi{display:flex;gap:12px;flex-wrap:wrap}
.kpi .pill{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0e141d;color:#eef3fb}
.timer{font-weight:700}
@media (max-width:640px){.card{grid-template-columns:1fr}.actions{justify-content:flex-start}}
</style>
</head>
<body>
  <div class="container">
    <div class="row" style="justify-content:space-between;align-items:baseline">
      <h1>Quiz ‚Äî Tous les mots</h1>
      <div class="row"><a class="btn" href="index.html">üè† Accueil</a></div>
    </div>
    <p class="sub">Clique sur la bonne r√©ponse apr√®s √©coute.</p>
        <div class="quiz-wrap">
      <div id="config" class="quiz-card">
        <div class="pt">Param√®tres du quiz</div>
        <div class="row">
          <label for="qcount">Nombre de questions</label>
          <select id="qcount">
            <option value="10" selected>10</option>
            <option value="5">5</option>
            <option value="15">15</option>
            <option value="20">20</option>
          </select>
          <button id="btn-start">‚ñ∂Ô∏è D√©marrer</button>
        </div>
        <div class="small">Le quiz joue automatiquement l‚Äôaudio. R√©ponds avant la fin du <b>compte √† rebours</b>.</div>
      </div>

      <div id="stage" class="quiz-card" style="display:none">
        <div class="row kpi">
          <div class="pill">Question : <span id="qnum">1</span></div>
          <div class="pill">Score : <span id="score">0</span></div>
          <div class="pill">‚è±Ô∏è Temps : <span id="timer" class="timer">8</span>s</div>
        </div>
        <div id="choices" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(180px,1fr));"></div>
        <div class="row" style="gap:8px">
          <button id="btn-pause" style="display:none">‚è∏Ô∏è Pause</button>
          <button id="btn-resume" style="display:none">‚ñ∂Ô∏è Reprendre</button>
          <button id="btn-restart" style="display:none">üîÑ Recommencer</button>
          <span id="result"></span>
        </div>
      </div>
    </div>
    
  </div>
  <div class="footer">Pages statiques ‚Äî ouvrez localement sans serveur.</div>
  <audio id="player" preload="auto"></audio>
  <script>const player = document.getElementById('player');
function play(src){ player.src = src; player.play(); }
function stopAudio(){ try{ player.pause(); player.currentTime = 0; }catch(e){} }
function filterCards(){
  const q=(document.getElementById('search')?.value||'').trim().toLowerCase();
  const cards=document.querySelectorAll('#list .card');
  if(!q){ cards.forEach(c=>c.style.display=''); return; }
  cards.forEach(c=>{
    const pt=c.getAttribute('data-pt'), fr=c.getAttribute('data-fr');
    c.style.display = (pt.includes(q) || fr.includes(q)) ? '' : 'none';
  });
}
function toggleQuiz(){
  const chk=document.getElementById('quiz');
  const frs=document.querySelectorAll('.fr');
  frs.forEach(el=>{ el.style.visibility = chk.checked ? 'hidden' : 'visible'; });
}
</script>
  <script>const POOL = [{"pt": "oi", "fr": "salut", "phon": "o√Ø", "normal": "audio/0001-oi-ef67e086.mp3"}, {"pt": "bom dia", "fr": "bonjour (matin)", "phon": "b√µ dji-a", "normal": "audio/0002-bom-dia-65463ee6.mp3"}, {"pt": "boa tarde", "fr": "bonjour (apr√®s-midi)", "phon": "bo-a tardj", "normal": "audio/0003-boa-tarde-f0a89eea.mp3"}, {"pt": "boa noite", "fr": "bonsoir / bonne nuit", "phon": "bo-a no√Ø-tchi", "normal": "audio/0004-boa-noite-acc42079.mp3"}, {"pt": "como vai?", "fr": "comment √ßa va ?", "phon": "komo va√Ø", "normal": "audio/0005-como-vai-0909412f.mp3"}, {"pt": "tudo bem?", "fr": "√ßa va ?", "phon": "toudou b√®·πÖ", "normal": "audio/0006-tudo-bem-b11d18dd.mp3"}, {"pt": "meu nome √©‚Ä¶", "fr": "je m‚Äôappelle‚Ä¶", "phon": "m√©ou nom√© √©", "normal": "audio/0007-meu-nome-e-1dda55b7.mp3"}, {"pt": "eu sou", "fr": "je suis", "phon": "√©ou so", "normal": "audio/0008-eu-sou-a8f404f6.mp3"}, {"pt": "voc√™ √©", "fr": "tu es / vous √™tes (sing.)", "phon": "vos√© √©", "normal": "audio/0009-voce-e-987b1559.mp3"}, {"pt": "prazer", "fr": "enchant√©", "phon": "praz√®r", "normal": "audio/0010-prazer-9e1874c6.mp3"}, {"pt": "de onde voc√™ √©?", "fr": "tu viens d‚Äôo√π ?", "phon": "dj√© ondji vos√© √©", "normal": "audio/0011-de-onde-voce-e-acd62f48.mp3"}, {"pt": "muito obrigado", "fr": "merci beaucoup (homme)", "phon": "mou√Øto obrigadou", "normal": "audio/0012-muito-obrigado-4f77f39b.mp3"}, {"pt": "m√£e", "fr": "maman", "phon": "ma…≤", "normal": "audio/0013-mae-c936707e.mp3"}, {"pt": "pai", "fr": "papa", "phon": "pa√Ø", "normal": "audio/0014-pai-7525a436.mp3"}, {"pt": "irm√£o", "fr": "fr√®re", "phon": "irmanÃÉ√µ", "normal": "audio/0015-irmao-1fa174dc.mp3"}, {"pt": "irm√£", "fr": "soeur", "phon": "irmanÃÉ", "normal": "audio/0016-irma-2aec3dfc.mp3"}, {"pt": "filho", "fr": "fils", "phon": "fi-lyo", "normal": "audio/0017-filho-b85520b6.mp3"}, {"pt": "filha", "fr": "fille", "phon": "fi-lya", "normal": "audio/0018-filha-ecc0f8f2.mp3"}, {"pt": "marido", "fr": "mari", "phon": "maridou", "normal": "audio/0019-marido-e4b88e75.mp3"}, {"pt": "esposa", "fr": "√©pouse", "phon": "√©sp√¥za", "normal": "audio/0020-esposa-39dea479.mp3"}, {"pt": "meu filho tem oito anos", "fr": "mon fils a huit ans", "phon": "m√©ou fi-lyo t·∫Ω o√Øto anous", "normal": "audio/0021-meu-filho-tem-oito-anos-8a7d2cea.mp3"}, {"pt": "eu tenho", "fr": "j‚Äôai", "phon": "√©ou t·∫Ω-nyo", "normal": "audio/0022-eu-tenho-5a651b8c.mp3"}, {"pt": "voc√™ tem", "fr": "tu as / vous avez (sing.)", "phon": "vos√© t·∫Ω", "normal": "audio/0023-voce-tem-069f89ff.mp3"}, {"pt": "nossa fam√≠lia √© grande", "fr": "notre famille est grande", "phon": "nossa famil-ya √© grandji", "normal": "audio/0024-nossa-familia-e-grande-a6e0cde3.mp3"}, {"pt": "um, dois, tr√™s", "fr": "un, deux, trois", "phon": "oun, do√Øss, tr√™ss", "normal": "audio/0025-um-dois-tres-4b427721.mp3"}, {"pt": "quatro, cinco, seis", "fr": "quatre, cinq, six", "phon": "kouatrou, sinkou, se√Øs", "normal": "audio/0026-quatro-cinco-seis-1a0e1330.mp3"}, {"pt": "sete, oito, nove", "fr": "sept, huit, neuf", "phon": "s√®-tchi, o√Øto, nov√®", "normal": "audio/0027-sete-oito-nove-2eda37a3.mp3"}, {"pt": "dez", "fr": "dix", "phon": "d√®ss", "normal": "audio/0028-dez-b5ab4a29.mp3"}, {"pt": "quantos anos voc√™ tem?", "fr": "tu as quel √¢ge ?", "phon": "kouantos anous vos√© t·∫Ω", "normal": "audio/0029-quantos-anos-voce-tem-c7c6c995.mp3"}, {"pt": "eu tenho vinte anos", "fr": "j‚Äôai vingt ans", "phon": "√©ou t·∫Ω-nyo vintchi anous", "normal": "audio/0030-eu-tenho-vinte-anos-392909ee.mp3"}, {"pt": "primeiro", "fr": "premier", "phon": "prim√®√Ørou", "normal": "audio/0031-primeiro-26d0c603.mp3"}, {"pt": "segundo", "fr": "deuxi√®me", "phon": "s√©gu-ndou", "normal": "audio/0032-segundo-d899f3b9.mp3"}, {"pt": "terceiro", "fr": "troisi√®me", "phon": "ters√®√Ørou", "normal": "audio/0033-terceiro-9e4dabac.mp3"}, {"pt": "eu quero", "fr": "je veux", "phon": "√©ou k√©-rou", "normal": "audio/0034-eu-quero-8d99869f.mp3"}, {"pt": "voc√™ quer", "fr": "tu veux / vous voulez (sing.)", "phon": "vos√© k√©", "normal": "audio/0035-voce-quer-07754c85.mp3"}, {"pt": "eu tenho dois irm√£os", "fr": "j‚Äôai deux fr√®res", "phon": "√©ou t·∫Ω-nyo do√Øss irm√£nÃÉos", "normal": "audio/0036-eu-tenho-dois-irmaos-0c0fbc92.mp3"}, {"pt": "segunda-feira", "fr": "lundi", "phon": "s√®gounda f√™√Øra", "normal": "audio/0037-segunda-feira-f362171c.mp3"}, {"pt": "ter√ßa-feira", "fr": "mardi", "phon": "tersa f√™√Øra", "normal": "audio/0038-terca-feira-5e0e7781.mp3"}, {"pt": "quarta-feira", "fr": "mercredi", "phon": "kouarta f√™√Øra", "normal": "audio/0039-quarta-feira-60b1473c.mp3"}, {"pt": "quinta-feira", "fr": "jeudi", "phon": "kinta f√™√Øra", "normal": "audio/0040-quinta-feira-48f8d2fa.mp3"}, {"pt": "sexta-feira", "fr": "vendredi", "phon": "se√Øchta f√™√Øra", "normal": "audio/0041-sexta-feira-b5a183f5.mp3"}, {"pt": "s√°bado", "fr": "samedi", "phon": "sabado", "normal": "audio/0042-sabado-1e73aa8e.mp3"}, {"pt": "domingo", "fr": "dimanche", "phon": "domingu", "normal": "audio/0043-domingo-da416310.mp3"}, {"pt": "janeiro", "fr": "janvier", "phon": "jan√®√Ørou", "normal": "audio/0044-janeiro-3fbb4496.mp3"}, {"pt": "fevereiro", "fr": "f√©vrier", "phon": "f√©ver√®√Ørou", "normal": "audio/0045-fevereiro-f804fc02.mp3"}, {"pt": "mar√ßo", "fr": "mars", "phon": "marssou", "normal": "audio/0046-marco-f9943b23.mp3"}, {"pt": "eu vou", "fr": "je vais", "phon": "√©ou vou", "normal": "audio/0047-eu-vou-073bca2e.mp3"}, {"pt": "voc√™ vai", "fr": "tu vas / vous allez (sing.)", "phon": "vos√© va√Ø", "normal": "audio/0048-voce-vai-c02ee935.mp3"}, {"pt": "vermelho", "fr": "rouge", "phon": "verm√®-lyo", "normal": "audio/0049-vermelho-79f2b39a.mp3"}, {"pt": "azul", "fr": "bleu", "phon": "azoul", "normal": "audio/0050-azul-1768d39c.mp3"}, {"pt": "amarelo", "fr": "jaune", "phon": "amar√®-lou", "normal": "audio/0051-amarelo-985037bf.mp3"}, {"pt": "verde", "fr": "vert", "phon": "verdji", "normal": "audio/0052-verde-2030abee.mp3"}, {"pt": "preto", "fr": "noir", "phon": "pr√™-tou", "normal": "audio/0053-preto-eb60d10d.mp3"}, {"pt": "branco", "fr": "blanc", "phon": "bran-cou", "normal": "audio/0054-branco-e6c28d71.mp3"}, {"pt": "rosa", "fr": "rose", "phon": "roza", "normal": "audio/0055-rosa-5efc86ca.mp3"}, {"pt": "laranja", "fr": "orange", "phon": "laranj-a", "normal": "audio/0056-laranja-4571e3d8.mp3"}, {"pt": "cinza", "fr": "gris", "phon": "s√Æn-za", "normal": "audio/0057-cinza-32a05be7.mp3"}, {"pt": "eu gosto", "fr": "j‚Äôaime", "phon": "√©ou gostou", "normal": "audio/0058-eu-gosto-ae5ebea4.mp3"}, {"pt": "voc√™ gosta", "fr": "tu aimes / vous aimez (sing.)", "phon": "vos√© g√¥sta", "normal": "audio/0059-voce-gosta-d2ca052e.mp3"}, {"pt": "minha cor favorita √© azul", "fr": "ma couleur pr√©f√©r√©e est le bleu", "phon": "mi-nya corr favor√Æta √© azoul", "normal": "audio/0060-minha-cor-favorita-e-azul-a3f24d22.mp3"}, {"pt": "casa", "fr": "maison", "phon": "caza", "normal": "audio/0061-casa-81bce1f3.mp3"}, {"pt": "quarto", "fr": "chambre", "phon": "kouarto", "normal": "audio/0062-quarto-ad25d1cf.mp3"}, {"pt": "sala", "fr": "salon", "phon": "sala", "normal": "audio/0063-sala-9a2505d5.mp3"}, {"pt": "cozinha", "fr": "cuisine", "phon": "kouzi-nya", "normal": "audio/0064-cozinha-d4ca9c86.mp3"}, {"pt": "banheiro", "fr": "salle de bain / toilettes", "phon": "bany√®rrou", "normal": "audio/0065-banheiro-ab24c5bf.mp3"}, {"pt": "janela", "fr": "fen√™tre", "phon": "jan√®-la", "normal": "audio/0066-janela-e9215e0d.mp3"}, {"pt": "porta", "fr": "porte", "phon": "porta", "normal": "audio/0067-porta-9fa417be.mp3"}, {"pt": "cama", "fr": "lit", "phon": "cama", "normal": "audio/0068-cama-1bef95ab.mp3"}, {"pt": "mesa", "fr": "table", "phon": "m√©za", "normal": "audio/0069-mesa-f04cc316.mp3"}, {"pt": "eu moro aqui", "fr": "j‚Äôhabite ici", "phon": "√©ou moro aki", "normal": "audio/0070-eu-moro-aqui-b926fcf1.mp3"}, {"pt": "eu preciso", "fr": "j‚Äôai besoin", "phon": "√©ou pr√©sizo", "normal": "audio/0071-eu-preciso-ad48069b.mp3"}, {"pt": "voc√™ precisa", "fr": "tu as besoin / vous avez besoin (sing.)", "phon": "vos√© pr√©siza", "normal": "audio/0072-voce-precisa-827a3885.mp3"}, {"pt": "celular", "fr": "t√©l√©phone portable", "phon": "c√©loularr", "normal": "audio/0073-celular-c99f0773.mp3"}, {"pt": "computador", "fr": "ordinateur", "phon": "computa-dorr", "normal": "audio/0074-computador-bccdcb8b.mp3"}, {"pt": "carteira", "fr": "portefeuille", "phon": "cart√®√Øra", "normal": "audio/0075-carteira-31ee30a2.mp3"}, {"pt": "√≥culos", "fr": "lunettes", "phon": "okoulous", "normal": "audio/0076-oculos-a8d6bdc5.mp3"}, {"pt": "chave", "fr": "cl√©", "phon": "chavi", "normal": "audio/0077-chave-dca6ea9a.mp3"}, {"pt": "bolsa", "fr": "sac", "phon": "bolsa", "normal": "audio/0078-bolsa-8ae69eed.mp3"}, {"pt": "rel√≥gio", "fr": "montre", "phon": "h√©lodjo", "normal": "audio/0079-relogio-3c1fcfac.mp3"}, {"pt": "mochila", "fr": "sac √† dos", "phon": "mochila", "normal": "audio/0080-mochila-a02f4c78.mp3"}, {"pt": "carregador", "fr": "chargeur", "phon": "carregadorr", "normal": "audio/0081-carregador-f16b82ad.mp3"}, {"pt": "eu trago", "fr": "j‚Äôapporte", "phon": "√©ou trago", "normal": "audio/0082-eu-trago-c801329c.mp3"}, {"pt": "voc√™ traz", "fr": "tu apportes / vous apportez (sing.)", "phon": "vos√© traz", "normal": "audio/0083-voce-traz-39312857.mp3"}, {"pt": "onde est√° meu celular?", "fr": "o√π est mon t√©l√©phone ?", "phon": "ondji √©st√° m√©ou c√©loularr", "normal": "audio/0084-onde-esta-meu-celular-210e0f89.mp3"}, {"pt": "p√£o", "fr": "pain", "phon": "p√£n", "normal": "audio/0085-pao-3464c04f.mp3"}, {"pt": "arroz", "fr": "riz", "phon": "ar-hoss", "normal": "audio/0086-arroz-fa9db510.mp3"}, {"pt": "feij√£o", "fr": "haricots (noirs)", "phon": "feij√£w", "normal": "audio/0087-feijao-182821d3.mp3"}, {"pt": "frango", "fr": "poulet", "phon": "frango", "normal": "audio/0088-frango-07dd38db.mp3"}, {"pt": "carne", "fr": "viande", "phon": "carni", "normal": "audio/0089-carne-8ecc854e.mp3"}, {"pt": "peixe", "fr": "poisson", "phon": "pe√Øchi", "normal": "audio/0090-peixe-45620bd6.mp3"}, {"pt": "salada", "fr": "salade", "phon": "salada", "normal": "audio/0091-salada-e7c54bfd.mp3"}, {"pt": "fruta", "fr": "fruit", "phon": "frouta", "normal": "audio/0092-fruta-1ea8c03f.mp3"}, {"pt": "legumes", "fr": "l√©gumes", "phon": "l√©goumiss", "normal": "audio/0093-legumes-b4da5edf.mp3"}, {"pt": "eu como", "fr": "je mange", "phon": "√©ou komou", "normal": "audio/0094-eu-como-b297a8d4.mp3"}, {"pt": "voc√™ come", "fr": "tu manges / vous mangez (sing.)", "phon": "vos√© kom√®", "normal": "audio/0095-voce-come-ae4addbc.mp3"}, {"pt": "eu quero um prato de arroz e feij√£o", "fr": "je veux un plat de riz et haricots", "phon": "√©ou k√©-rou oun prato dj√© ar-hoss i feij√£w", "normal": "audio/0096-eu-quero-um-prato-de-arroz-e-feijao-1ac2bd2d.mp3"}, {"pt": "√°gua", "fr": "eau", "phon": "agoua", "normal": "audio/0097-agua-513cba58.mp3"}, {"pt": "caf√©", "fr": "caf√©", "phon": "caf√®", "normal": "audio/0098-cafe-f424452a.mp3"}, {"pt": "ch√°", "fr": "th√©", "phon": "cha", "normal": "audio/0099-cha-a1f7a686.mp3"}, {"pt": "suco", "fr": "jus", "phon": "soukou", "normal": "audio/0100-suco-034af408.mp3"}, {"pt": "leite", "fr": "lait", "phon": "le√Øtchi", "normal": "audio/0101-leite-beb967c0.mp3"}, {"pt": "cerveja", "fr": "bi√®re", "phon": "serv√®-ja", "normal": "audio/0102-cerveja-d7c0bc95.mp3"}, {"pt": "vinho", "fr": "vin", "phon": "vi-nyo", "normal": "audio/0103-vinho-798a84bb.mp3"}, {"pt": "sem a√ß√∫car", "fr": "sans sucre", "phon": "s√®·πÖ azoukar", "normal": "audio/0104-sem-acucar-3eb694a3.mp3"}, {"pt": "com gelo", "fr": "avec des gla√ßons", "phon": "kong j√©lo", "normal": "audio/0105-com-gelo-bc0df6bb.mp3"}, {"pt": "eu bebo", "fr": "je bois", "phon": "√©ou b√©bou", "normal": "audio/0106-eu-bebo-8f162182.mp3"}, {"pt": "voc√™ bebe", "fr": "tu bois / vous buvez (sing.)", "phon": "vos√© b√©b√®", "normal": "audio/0107-voce-bebe-675aaca7.mp3"}, {"pt": "um caf√©, por favor", "fr": "un caf√©, s‚Äôil vous pla√Æt", "phon": "oun caf√®, pour favorr", "normal": "audio/0108-um-cafe-por-favor-036c2b9e.mp3"}, {"pt": "professor / professora", "fr": "professeur / professeure", "phon": "professorr / professora", "normal": "audio/0109-professor-professora-45c971c3.mp3"}, {"pt": "aluno / aluna", "fr": "√©l√®ve (m/f)", "phon": "alounou / alouna", "normal": "audio/0110-aluno-aluna-603cd2c6.mp3"}, {"pt": "caderno", "fr": "cahier", "phon": "cadernou", "normal": "audio/0111-caderno-ece98ae9.mp3"}, {"pt": "l√°pis", "fr": "crayon", "phon": "lapiss", "normal": "audio/0112-lapis-81d05f0e.mp3"}, {"pt": "caneta", "fr": "stylo", "phon": "can√®ta", "normal": "audio/0113-caneta-56481346.mp3"}, {"pt": "borracha", "fr": "gomme", "phon": "borracha", "normal": "audio/0114-borracha-cb9c0b7f.mp3"}, {"pt": "quadro", "fr": "tableau (classe)", "phon": "kouadro", "normal": "audio/0115-quadro-d5d5d8e1.mp3"}, {"pt": "li√ß√£o de casa", "fr": "devoirs", "phon": "liss√£w dj√© caza", "normal": "audio/0116-licao-de-casa-94c71658.mp3"}, {"pt": "eu estudo", "fr": "j‚Äô√©tudie", "phon": "√©ou istoudou", "normal": "audio/0117-eu-estudo-f08d2837.mp3"}, {"pt": "voc√™ estuda", "fr": "tu √©tudies / vous √©tudiez (sing.)", "phon": "vos√© istouda", "normal": "audio/0118-voce-estuda-0f1a73e5.mp3"}, {"pt": "posso ir ao banheiro?", "fr": "je peux aller aux toilettes ?", "phon": "posso ir aou bany√®rrou", "normal": "audio/0119-posso-ir-ao-banheiro-406ecef7.mp3"}, {"pt": "repete, por favor", "fr": "r√©p√®te, s‚Äôil te pla√Æt", "phon": "h√©petchi, pour favor", "normal": "audio/0120-repete-por-favor-c7488b52.mp3"}, {"pt": "carro", "fr": "voiture", "phon": "carro", "normal": "audio/0121-carro-3959fc61.mp3"}, {"pt": "√¥nibus", "fr": "bus", "phon": "onibous", "normal": "audio/0122-onibus-5d9a02c3.mp3"}, {"pt": "metr√¥", "fr": "m√©tro", "phon": "m√©tr√¥", "normal": "audio/0123-metro-f3aca16b.mp3"}, {"pt": "trem", "fr": "train", "phon": "tr√®·πÖ", "normal": "audio/0124-trem-b727f035.mp3"}, {"pt": "avi√£o", "fr": "avion", "phon": "avi√£w", "normal": "audio/0125-aviao-01f28123.mp3"}, {"pt": "bicicleta", "fr": "v√©lo", "phon": "bissicl√®ta", "normal": "audio/0126-bicicleta-ae970b2f.mp3"}, {"pt": "moto", "fr": "moto", "phon": "moto", "normal": "audio/0127-moto-1f7f1c7a.mp3"}, {"pt": "a p√©", "fr": "√† pied", "phon": "a p√®", "normal": "audio/0128-a-pe-35118c9c.mp3"}, {"pt": "eu vou de √¥nibus", "fr": "je vais en bus", "phon": "√©ou vou dj√© onibous", "normal": "audio/0129-eu-vou-de-onibus-cc1fb32b.mp3"}, {"pt": "eu pego o metr√¥", "fr": "je prends le m√©tro", "phon": "√©ou p√®gou ou m√©tr√¥", "normal": "audio/0130-eu-pego-o-metro-77715809.mp3"}, {"pt": "eu posso", "fr": "je peux", "phon": "√©ou posso", "normal": "audio/0131-eu-posso-e4d4fce3.mp3"}, {"pt": "voc√™ pode", "fr": "tu peux / vous pouvez (sing.)", "phon": "vos√© p√≥-dji", "normal": "audio/0132-voce-pode-aa1454de.mp3"}, {"pt": "ponto de √¥nibus", "fr": "arr√™t de bus", "phon": "ponto dj√© onibous", "normal": "audio/0133-ponto-de-onibus-4856b261.mp3"}, {"pt": "passagem", "fr": "ticket (transport)", "phon": "passaj√®·πÖ", "normal": "audio/0134-passagem-7244d365.mp3"}, {"pt": "cart√£o", "fr": "carte (transport)", "phon": "cart√£w", "normal": "audio/0135-cartao-f7b7dadf.mp3"}, {"pt": "linha", "fr": "ligne", "phon": "li-nya", "normal": "audio/0136-linha-41df2a92.mp3"}, {"pt": "sentido", "fr": "direction (sens)", "phon": "s√®ntidou", "normal": "audio/0137-sentido-4a823f39.mp3"}, {"pt": "baldea√ß√£o", "fr": "correspondance", "phon": "bald√©a-s√£w", "normal": "audio/0138-baldeacao-1c9fdd58.mp3"}, {"pt": "hor√°rio", "fr": "horaire", "phon": "horarrio", "normal": "audio/0139-horario-e15014f1.mp3"}, {"pt": "lotado", "fr": "bond√©", "phon": "lotadou", "normal": "audio/0140-lotado-d29d70c6.mp3"}, {"pt": "eu estou esperando o √¥nibus", "fr": "j‚Äôattends le bus", "phon": "√©ou √©stou esp√©randou ou onibous", "normal": "audio/0141-eu-estou-esperando-o-onibus-4448e078.mp3"}, {"pt": "eu pago", "fr": "je paie", "phon": "√©ou pagou", "normal": "audio/0142-eu-pago-61725e43.mp3"}, {"pt": "voc√™ paga", "fr": "tu paies / vous payez (sing.)", "phon": "vos√© paga", "normal": "audio/0143-voce-paga-ec8e7dc2.mp3"}, {"pt": "o √¥nibus vai para o centro?", "fr": "le bus va au centre ?", "phon": "ou onibous va√Ø para ou s√®ntro", "normal": "audio/0144-o-onibus-vai-para-o-centro-3fbee265.mp3"}];
function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} return a; }
function makeQuiz(POOL, limit){ const items=[...POOL]; shuffle(items); if(limit&&limit>0){ items.length=Math.min(limit,items.length);} return items; }
function buildChoices(pool, answer, n=4){
  const others = pool.filter(x => x.pt !== answer.pt);
  shuffle(others);
  const picks = others.slice(0, Math.max(0, n-1));
  return shuffle([...picks, answer]);
}
// --- Acc√®s direct comme les le√ßons : la phon√©tique est dans item.phon ---
function getPhon(x){ return (x && typeof x.phon === 'string') ? x.phon : ''; }
function getFr(x){ return (x && typeof x.fr   === 'string') ? x.fr   : (x && x.fr) || ''; }

function QuizApp(config){
  const AUTO_DELAY_MS = 900;
  const EXTRA_FEEDBACK_MS = 3000; // +3s d'affichage de la r√©ponse
  const TIMER_LIMIT_S = 8;
  const state = { pool:config.pool, idx:0, score:0, total:config.total, optionsCount:4,
                  started:false, paused:false, timerNext:null, countdown:TIMER_LIMIT_S,
                  countdownInterval:null, answered:false, history:[] };
  const elBtnStart   = document.getElementById('btn-start');
  const elBtnPause   = document.getElementById('btn-pause');
  const elBtnResume  = document.getElementById('btn-resume');
  const elBtnRestart = document.getElementById('btn-restart');
  const elQuestion = document.getElementById('qnum');
  const elScore    = document.getElementById('score');
  const elTimer    = document.getElementById('timer');
  const elChoices  = document.getElementById('choices');
  const elResult   = document.getElementById('result');
  const elConfig   = document.getElementById('config');
  const elStage    = document.getElementById('stage');

  function setButtons(){
    elBtnStart.style.display   = state.started ? 'none' : 'inline-flex';
    elBtnPause.style.display   = (state.started && !state.paused) ? 'inline-flex' : 'none';
    elBtnResume.style.display  = (state.started && state.paused) ? 'inline-flex' : 'none';
    elBtnRestart.style.display = state.started ? 'inline-flex' : 'none';
  }
  function clearTimers(){
    if (state.timerNext){ clearTimeout(state.timerNext); state.timerNext = null; }
    if (state.countdownInterval){ clearInterval(state.countdownInterval); state.countdownInterval = null; }
  }
  function scheduleNext(){
    if(state.paused) return;
    if(state.timerNext){clearTimeout(state.timerNext);} 
    state.timerNext = setTimeout(nextQuestion, AUTO_DELAY_MS + EXTRA_FEEDBACK_MS);
  }
  function startCountdown(){
    if (state.countdownInterval){ clearInterval(state.countdownInterval); }
    state.countdown = TIMER_LIMIT_S;
    elTimer.textContent = state.countdown.toString();
    state.countdownInterval = setInterval(() => {
      if (state.paused) return;
      state.countdown -= 1;
      elTimer.textContent = Math.max(0, state.countdown).toString();
      if (state.countdown <= 0){
        clearInterval(state.countdownInterval);
        onTimeout();
      }
    }, 1000);
  }
  function stopCountdown(){ if(state.countdownInterval){ clearInterval(state.countdownInterval); state.countdownInterval=null; }}
  function render(){
    const cur = state.pool[state.idx];
    state.answered = false;
    elQuestion.textContent = (state.idx + 1) + " / " + state.total;
    elScore.textContent = state.score;
    elResult.textContent = "";
    elChoices.innerHTML = "";
    const opts = buildChoices(state.pool, cur, state.optionsCount);
    opts.forEach(opt => {
      const btn = document.createElement('button');
      btn.className = 'choice';
      btn.textContent = opt.pt;
      btn.onclick = () => onAnswer(opt.pt === cur.pt, btn);
      elChoices.appendChild(btn);
    });
    if (!state.paused) {
      stopAudio();
      play(cur.normal);
      startCountdown();
    }
  }
  function lockChoices(){ elChoices.querySelectorAll('.choice').forEach(b => b.disabled = true); }
  function markCorrect(){
    elChoices.querySelectorAll('.choice').forEach(b => {
      if (b.textContent === state.pool[state.idx].pt) b.classList.add('correct');
    });
  }
  function showFeedback(item, isCorrect){
    const phon = getPhon(item);
    const fr   = getFr(item);
    const icon = isCorrect ? '‚úÖ' : '‚ùå';
    const title = isCorrect ? 'Correct !' : 'Mauvaise r√©ponse.';
    elResult.innerHTML = "<div class=\"feedback\">"+
      `<div class="fb-title">${icon} ${title}</div>`+
      `<div class="fb-pt"><strong>Portugais :</strong> ${item.pt || ''}</div>`+
      `<div class="fb-phon"><strong>Phon√©tique :</strong> ${phon || '‚Äî'}</div>`+
      `<div class="fb-fr"><strong>Fran√ßais :</strong> ${fr || '‚Äî'}</div>`+
    "</div>";
  }
  function onAnswer(isCorrect, btn){
    if (state.answered) return;
    state.answered = true;
    stopCountdown();
    lockChoices();
    if (isCorrect){ btn.classList.add('correct'); state.score += 1; }
    else { btn.classList.add('wrong'); markCorrect(); }
    elScore.textContent = state.score;
    const item = state.pool[state.idx];
    showFeedback(item, isCorrect);
    state.history.push({ pt: item.pt || '', phon: getPhon(item), fr: getFr(item), correct: !!isCorrect });
    scheduleNext();
  }
  function onTimeout(){
    if (state.answered) return;
    state.answered = true;
    lockChoices(); markCorrect();
    const item = state.pool[state.idx];
    showFeedback(item, false);
    state.history.push({ pt: item.pt || '', phon: getPhon(item), fr: getFr(item), correct: false });
    scheduleNext();
  }
  function buildSummary(entries){
    const rows = entries.map((e,i)=>{
      const status = e.correct ? '‚úÖ' : '‚ùå';
      return `<tr class="row-${e.correct?'ok':'ko'}">`
           + `<td>${i+1}</td>`
           + `<td>${status}</td>`
           + `<td>${e.pt || ''}</td>`
           + `<td>${e.phon || '‚Äî'}</td>`
           + `<td>${e.fr || '‚Äî'}</td>`
           + `</tr>`;
    }).join('');
    const score = `${state.score} / ${state.total}`;
    return (
      `<div class="summary">`
      + `<div class="summary-title">üéâ Termin√© ! Score : ${score}</div>`
      + `<table class="summary-table">`
      + `<thead><tr><th>#</th><th>OK</th><th>Portugais</th><th>Phon√©tique</th><th>Fran√ßais</th></tr></thead>`
      + `<tbody>${rows}</tbody>`
      + `</table>`
      + `</div>`
    );
  }
  function nextQuestion(){
    clearTimers();
    if (state.idx + 1 >= state.total){
      elChoices.innerHTML = "";
      elResult.innerHTML = buildSummary(state.history);
      setButtons();
      return;
    }
    state.idx += 1; render();
  }
  // Controls
  elBtnStart.onclick = () => {
    const sel = document.getElementById('qcount');
    const total = parseInt(sel.value, 10) || 10;
    state.history = [];
    state.pool = makeQuiz(state.pool, total);
    state.total = state.pool.length;
    state.idx = 0; state.score = 0; state.started = true; state.paused = false;
    clearTimers(); stopAudio(); elConfig.style.display = 'none'; elStage.style.display = 'block';
    render(); setButtons();
  };
  elBtnPause.onclick = () => { state.paused = true; clearTimers(); stopAudio(); setButtons(); };
  elBtnResume.onclick = () => { state.paused = false; setButtons(); render(); };
  elBtnRestart.onclick = () => { clearTimers(); state.started=false; state.paused=false; state.idx=0; state.score=0; stopAudio(); elStage.style.display='none'; elConfig.style.display='block'; setButtons(); };
  setButtons();
}
function startQuiz(POOL){ QuizApp({ pool: POOL, total: POOL.length }); }

/* CSS sugg√©r√© (optionnel)
  .feedback { margin-top: .5rem; line-height:1.4; }
  .fb-title { font-weight:600; margin-bottom:.25rem; }
  .summary { margin-top: .75rem; }
  .summary-title { font-weight:700; margin-bottom:.5rem; }
  .summary-table { width:100%; border-collapse: collapse; }
  .summary-table th, .summary-table td { border:1px solid #ddd; padding:.35rem .5rem; text-align:left; }
  .row-ok td { background: #f2fbf4; }
  .row-ko td { background: #fff5f5; }
*/

startQuiz(POOL);</script>
</body>
</html>
