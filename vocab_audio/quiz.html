<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Quiz ‚Äî Tous les mots</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>:root{
  --bg:#0b0f14;--card:#121821;--text:#eef3fb;--muted:#b8c0cc;--accent:#5aa0ff;--accent2:#8ad1ff;--border:#1e2632
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:radial-gradient(1000px 600px at 20% -10%,#16202d 0%,#0b0f14 60%) no-repeat fixed,var(--bg);
  color:var(--text);padding:32px 16px 80px}
.container{max-width:1000px;margin:0 auto}
h1{margin:0 0 8px} h2{margin:22px 0 12px} .sub{color:var(--muted);margin:0 0 24px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);
  border:1px solid var(--border);border-radius:16px;padding:16px;display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center}
.badge{min-width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
  background:linear-gradient(135deg,var(--accent),var(--accent2));color:#0b0f14;font-weight:700;border:1px solid rgba(255,255,255,.2);
  box-shadow:0 6px 14px rgba(90,160,255,.35)}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.texts{display:flex;gap:12px;align-items:center}
.texts .label{display:grid;place-items:center}
.pt{font-size:18px;font-weight:700;line-height:1.2}
.phon{color:#9fb4cc;font-size:13px;margin-top:2px}
.fr{color:var(--muted);margin-top:2px;font-size:14px}
.actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
button,a.btn{border:1px solid var(--border);background:#0e141d;color:#eef3fb;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:600;
  transition:transform .05s ease,border-color .2s ease;text-decoration:none;display:inline-flex;align-items:center;gap:6px}
button:hover,a.btn:hover{border-color:var(--accent)} button:active,a.btn:active{transform:translateY(1px)}
.small{font-size:12px;color:var(--muted)}
.footer{position:fixed;left:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);
  border-top:1px solid var(--border);padding:10px 16px;color:var(--muted);font-size:12px;display:flex;justify-content:center}
.toolbar{display:flex;gap:10px;align-items:center;margin:16px 0 20px;flex-wrap:wrap}
.toolbar input,.toolbar select{flex:1;min-width:220px;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0e141d;color:#eef3fb;outline:none}
.quiz-wrap{max-width:720px;margin:0 auto}
.quiz-card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:14px}
.choice{border:1px solid var(--border);border-radius:10px;padding:10px 12px;cursor:pointer;background:#0e141d}
.choice.correct{border-color:#3ddc97} .choice.wrong{border-color:#ff6b6b}
.kpi{display:flex;gap:12px;flex-wrap:wrap}
.kpi .pill{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0e141d;color:#eef3fb}
.timer{font-weight:700}
@media (max-width:640px){.card{grid-template-columns:1fr}.actions{justify-content:flex-start}}
</style>
</head>
<body>
  <div class="container">
    <div class="row" style="justify-content:space-between;align-items:baseline">
      <h1>Quiz ‚Äî Tous les mots</h1>
      <div class="row"><a class="btn" href="index.html">üè† Accueil</a></div>
    </div>
    <p class="sub">Clique sur la bonne r√©ponse apr√®s √©coute.</p>
        <div class="quiz-wrap">
      <div id="config" class="quiz-card">
        <div class="pt">Param√®tres du quiz</div>
        <div class="row">
          <label for="qcount">Nombre de questions</label>
          <select id="qcount">
            <option value="10" selected>10</option>
            <option value="5">5</option>
            <option value="15">15</option>
            <option value="20">20</option>
          </select>
          <button id="btn-start">‚ñ∂Ô∏è D√©marrer</button>
        </div>
        <div class="small">Le quiz joue automatiquement l‚Äôaudio. R√©ponds avant la fin du <b>compte √† rebours</b>.</div>
      </div>

      <div id="stage" class="quiz-card" style="display:none">
        <div class="row kpi">
          <div class="pill">Question : <span id="qnum">1</span></div>
          <div class="pill">Score : <span id="score">0</span></div>
          <div class="pill">‚è±Ô∏è Temps : <span id="timer" class="timer">8</span>s</div>
        </div>
        <div id="choices" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(180px,1fr));"></div>
        <div class="row" style="gap:8px">
          <button id="btn-pause" style="display:none">‚è∏Ô∏è Pause</button>
          <button id="btn-resume" style="display:none">‚ñ∂Ô∏è Reprendre</button>
          <button id="btn-restart" style="display:none">üîÑ Recommencer</button>
          <span id="result"></span>
        </div>
      </div>
    </div>
    
  </div>
  <div class="footer">Pages statiques ‚Äî ouvrez localement sans serveur.</div>
  <audio id="player" preload="auto"></audio>
  <script>const player = document.getElementById('player');
function play(src){ player.src = src; player.play(); }
function stopAudio(){ try{ player.pause(); player.currentTime = 0; }catch(e){} }
function filterCards(){
  const q=(document.getElementById('search')?.value||'').trim().toLowerCase();
  const cards=document.querySelectorAll('#list .card');
  if(!q){ cards.forEach(c=>c.style.display=''); return; }
  cards.forEach(c=>{
    const pt=c.getAttribute('data-pt'), fr=c.getAttribute('data-fr');
    c.style.display = (pt.includes(q) || fr.includes(q)) ? '' : 'none';
  });
}
function toggleQuiz(){
  const chk=document.getElementById('quiz');
  const frs=document.querySelectorAll('.fr');
  frs.forEach(el=>{ el.style.visibility = chk.checked ? 'hidden' : 'visible'; });
}
</script>
  <script>const POOL = [{"pt": "Ol√°", "fr": "Bonjour / Salut", "phon": "ola", "normal": "audio/0001-ola-528e3850.mp3"}, {"pt": "Oi", "fr": "Salut (informel)", "phon": "o√Ø", "normal": "audio/0002-oi-3c89984c.mp3"}, {"pt": "Bom dia", "fr": "Bonjour (matin)", "phon": "bohm djia", "normal": "audio/0003-bom-dia-8f97792d.mp3"}, {"pt": "Boa tarde", "fr": "Bon apr√®s-midi", "phon": "boa tardj", "normal": "audio/0004-boa-tarde-6278b644.mp3"}, {"pt": "Boa noite", "fr": "Bonsoir / Bonne nuit", "phon": "boa no√Øtchi", "normal": "audio/0005-boa-noite-06124de2.mp3"}, {"pt": "Tchau", "fr": "Au revoir", "phon": "tcha-ou", "normal": "audio/0006-tchau-a1228837.mp3"}, {"pt": "Eu me chamo...", "fr": "Je m'appelle...", "phon": "√©ou m√© chammou", "normal": "audio/0007-eu-me-chamo-82d1f38a.mp3"}, {"pt": "Meu nome √©...", "fr": "Mon nom est...", "phon": "m√©ou nom√© √©", "normal": "audio/0008-meu-nome-e-bbaa48dc.mp3"}, {"pt": "De onde voc√™ √©?", "fr": "D'o√π √™tes-vous ?", "phon": "dj√© onde vos√© √©", "normal": "audio/0009-de-onde-voce-e-43fd44e3.mp3"}, {"pt": "Eu sou da Fran√ßa", "fr": "Je viens de France", "phon": "√©ou sou da fransa", "normal": "audio/0010-eu-sou-da-franca-5a4175a3.mp3"}, {"pt": "Quantos anos voc√™ tem?", "fr": "Quel √¢ge avez-vous ?", "phon": "couantos annous vos√© t·∫Ω√Ø", "normal": "audio/0011-quantos-anos-voce-tem-884cc3af.mp3"}, {"pt": "Eu tenho 30 anos", "fr": "J'ai 30 ans", "phon": "√©ou t·∫Ω√Øngno trente annous", "normal": "audio/0012-eu-tenho-30-anos-e547640c.mp3"}, {"pt": "zero", "fr": "z√©ro", "phon": "z√®-ro", "normal": "audio/0013-zero-aa8c4133.mp3"}, {"pt": "um", "fr": "un", "phon": "oum", "normal": "audio/0014-um-ec92b743.mp3"}, {"pt": "dois", "fr": "deux", "phon": "do√Øss", "normal": "audio/0015-dois-7b426791.mp3"}, {"pt": "tr√™s", "fr": "trois", "phon": "tr√®√Øss", "normal": "audio/0016-tres-a4316f31.mp3"}, {"pt": "quatro", "fr": "quatre", "phon": "kouatro", "normal": "audio/0017-quatro-a7943ca9.mp3"}, {"pt": "cinco", "fr": "cinq", "phon": "cingcou", "normal": "audio/0018-cinco-a097b33b.mp3"}, {"pt": "onze", "fr": "onze", "phon": "onz√©", "normal": "audio/0019-onze-9fd8fa2d.mp3"}, {"pt": "doze", "fr": "douze", "phon": "doz√©", "normal": "audio/0020-doze-b4bd4cbd.mp3"}, {"pt": "treze", "fr": "treize", "phon": "tr√®z√©", "normal": "audio/0021-treze-153619dd.mp3"}, {"pt": "quatorze", "fr": "quatorze", "phon": "cat√¥rzi", "normal": "audio/0022-quatorze-ae9c35e7.mp3"}, {"pt": "quinze", "fr": "quinze", "phon": "kinzi", "normal": "audio/0023-quinze-6c00d38d.mp3"}, {"pt": "dezesseis", "fr": "seize", "phon": "d√®z√©ss√®√Øss", "normal": "audio/0024-dezesseis-78423d69.mp3"}, {"pt": "segunda-feira", "fr": "lundi", "phon": "s√®gounda f√®√Øra", "normal": "audio/0025-segunda-feira-f362171c.mp3"}, {"pt": "ter√ßa-feira", "fr": "mardi", "phon": "t√®rssa f√®√Øra", "normal": "audio/0026-terca-feira-5e0e7781.mp3"}, {"pt": "quarta-feira", "fr": "mercredi", "phon": "kouarta f√®√Øra", "normal": "audio/0027-quarta-feira-60b1473c.mp3"}, {"pt": "quinta-feira", "fr": "jeudi", "phon": "qu√Ønta f√®√Øra", "normal": "audio/0028-quinta-feira-48f8d2fa.mp3"}, {"pt": "sexta-feira", "fr": "vendredi", "phon": "s√®√Østa f√®√Øra", "normal": "audio/0029-sexta-feira-b5a183f5.mp3"}, {"pt": "s√°bado", "fr": "samedi", "phon": "sabbadou", "normal": "audio/0030-sabado-1e73aa8e.mp3"}, {"pt": "janeiro", "fr": "janvier", "phon": "jan√®√Øro", "normal": "audio/0031-janeiro-3fbb4496.mp3"}, {"pt": "fevereiro", "fr": "f√©vrier", "phon": "f√©vr√®√Øro", "normal": "audio/0032-fevereiro-f804fc02.mp3"}, {"pt": "mar√ßo", "fr": "mars", "phon": "marssou", "normal": "audio/0033-marco-f9943b23.mp3"}, {"pt": "abril", "fr": "avril", "phon": "abril", "normal": "audio/0034-abril-2fae6710.mp3"}, {"pt": "maio", "fr": "mai", "phon": "ma√Øo", "normal": "audio/0035-maio-20780f2f.mp3"}, {"pt": "junho", "fr": "juin", "phon": "jou√±o", "normal": "audio/0036-junho-879dbd60.mp3"}, {"pt": "julho", "fr": "juillet", "phon": "joulio", "normal": "audio/0037-julho-ae4e35ec.mp3"}, {"pt": "agosto", "fr": "ao√ªt", "phon": "ag√¥stou", "normal": "audio/0038-agosto-5a3c84cb.mp3"}, {"pt": "setembro", "fr": "septembre", "phon": "s√®ttembro", "normal": "audio/0039-setembro-c4ed4198.mp3"}, {"pt": "outubro", "fr": "octobre", "phon": "o√ªtoubro", "normal": "audio/0040-outubro-53ba38ce.mp3"}, {"pt": "novembro", "fr": "novembre", "phon": "novembro", "normal": "audio/0041-novembro-7f3147a9.mp3"}, {"pt": "dezembro", "fr": "d√©cembre", "phon": "d√®zembro", "normal": "audio/0042-dezembro-71f217b1.mp3"}, {"pt": "vermelho", "fr": "rouge", "phon": "verm√®-lio", "normal": "audio/0043-vermelho-79f2b39a.mp3"}, {"pt": "azul", "fr": "bleu", "phon": "azoul", "normal": "audio/0044-azul-1768d39c.mp3"}, {"pt": "amarelo", "fr": "jaune", "phon": "amar√®-lo", "normal": "audio/0045-amarelo-985037bf.mp3"}, {"pt": "verde", "fr": "vert", "phon": "v√®rdi", "normal": "audio/0046-verde-2030abee.mp3"}, {"pt": "preto", "fr": "noir", "phon": "pr√©tou", "normal": "audio/0047-preto-eb60d10d.mp3"}, {"pt": "branco", "fr": "blanc", "phon": "bran-co", "normal": "audio/0048-branco-e6c28d71.mp3"}, {"pt": "cinza", "fr": "gris", "phon": "cinza", "normal": "audio/0049-cinza-32a05be7.mp3"}, {"pt": "rosa", "fr": "rose", "phon": "roza", "normal": "audio/0050-rosa-5efc86ca.mp3"}, {"pt": "roxo", "fr": "violet", "phon": "rocho", "normal": "audio/0051-roxo-4bf83285.mp3"}, {"pt": "marrom", "fr": "marron", "phon": "marron", "normal": "audio/0052-marrom-b6e9af8a.mp3"}, {"pt": "bege", "fr": "beige", "phon": "b√®j√©", "normal": "audio/0053-bege-f630b0b9.mp3"}, {"pt": "laranja", "fr": "orange", "phon": "laranja", "normal": "audio/0054-laranja-4571e3d8.mp3"}, {"pt": "m√£e", "fr": "m√®re", "phon": "m√£e (mai~)", "normal": "audio/0055-mae-c936707e.mp3"}, {"pt": "pai", "fr": "p√®re", "phon": "pa√Ø", "normal": "audio/0056-pai-7525a436.mp3"}, {"pt": "filho", "fr": "fils", "phon": "filiou", "normal": "audio/0057-filho-b85520b6.mp3"}, {"pt": "filha", "fr": "fille", "phon": "filia", "normal": "audio/0058-filha-ecc0f8f2.mp3"}, {"pt": "irm√£o", "fr": "fr√®re", "phon": "irm√£o (irma-oun)", "normal": "audio/0059-irmao-1fa174dc.mp3"}, {"pt": "irm√£", "fr": "soeur", "phon": "irm√£ (irm-√£)", "normal": "audio/0060-irma-2aec3dfc.mp3"}, {"pt": "esposo", "fr": "mari", "phon": "√®sp√¥zo", "normal": "audio/0061-esposo-04c75626.mp3"}, {"pt": "esposa", "fr": "femme (√©pouse)", "phon": "√®sp√¥za", "normal": "audio/0062-esposa-39dea479.mp3"}, {"pt": "av√¥", "fr": "grand-p√®re", "phon": "av√¥ (av√¥)", "normal": "audio/0063-avo-eaaed76b.mp3"}, {"pt": "av√≥", "fr": "grand-m√®re", "phon": "av√≥ (av√≥)", "normal": "audio/0064-avo-8786e742.mp3"}, {"pt": "tio", "fr": "oncle", "phon": "tchi-√¥", "normal": "audio/0065-tio-589f98f8.mp3"}, {"pt": "tia", "fr": "tante", "phon": "tchi-a", "normal": "audio/0066-tia-8a60f563.mp3"}, {"pt": "casa", "fr": "maison", "phon": "caza", "normal": "audio/0067-casa-81bce1f3.mp3"}, {"pt": "apartamento", "fr": "appartement", "phon": "apartam√®ntou", "normal": "audio/0068-apartamento-af51e888.mp3"}, {"pt": "sala", "fr": "salon", "phon": "sala", "normal": "audio/0069-sala-9a2505d5.mp3"}, {"pt": "quarto", "fr": "chambre", "phon": "kouarto", "normal": "audio/0070-quarto-ad25d1cf.mp3"}, {"pt": "cozinha", "fr": "cuisine", "phon": "couzinha", "normal": "audio/0071-cozinha-d4ca9c86.mp3"}, {"pt": "banheiro", "fr": "salle de bain", "phon": "banh√®√Ørou", "normal": "audio/0072-banheiro-ab24c5bf.mp3"}, {"pt": "mesa", "fr": "table", "phon": "m√©za", "normal": "audio/0073-mesa-f04cc316.mp3"}, {"pt": "cadeira", "fr": "chaise", "phon": "cada√Øra", "normal": "audio/0074-cadeira-644a93ee.mp3"}, {"pt": "cama", "fr": "lit", "phon": "cama", "normal": "audio/0075-cama-1bef95ab.mp3"}, {"pt": "sof√°", "fr": "canap√©", "phon": "sof√°", "normal": "audio/0076-sofa-b6190998.mp3"}, {"pt": "prato", "fr": "assiette", "phon": "pratou", "normal": "audio/0077-prato-460a2215.mp3"}, {"pt": "copo", "fr": "verre", "phon": "copou", "normal": "audio/0078-copo-8effcb86.mp3"}, {"pt": "geladeira", "fr": "r√©frig√©rateur", "phon": "j√©lad√®√Øra", "normal": "audio/0079-geladeira-000689c8.mp3"}, {"pt": "fog√£o", "fr": "cuisini√®re", "phon": "fog√£o (foga-oun)", "normal": "audio/0080-fogao-7aa9a045.mp3"}, {"pt": "forno", "fr": "four", "phon": "forno", "normal": "audio/0081-forno-1912344a.mp3"}, {"pt": "micro-ondas", "fr": "micro-ondes", "phon": "micro-ondas", "normal": "audio/0082-micro-ondas-4a22e6ad.mp3"}, {"pt": "panela", "fr": "casserole", "phon": "pan√®la", "normal": "audio/0083-panela-79c60280.mp3"}, {"pt": "colher", "fr": "cuill√®re", "phon": "couly√®r", "normal": "audio/0084-colher-799a3987.mp3"}, {"pt": "p√£o", "fr": "pain", "phon": "p√£-oun", "normal": "audio/0085-pao-3464c04f.mp3"}, {"pt": "manteiga", "fr": "beurre", "phon": "mant√®√Øga", "normal": "audio/0086-manteiga-25d1fa69.mp3"}, {"pt": "queijo", "fr": "fromage", "phon": "k√©√Øjou", "normal": "audio/0087-queijo-fc42828b.mp3"}, {"pt": "leite", "fr": "lait", "phon": "le√Øtchi", "normal": "audio/0088-leite-beb967c0.mp3"}, {"pt": "arroz", "fr": "riz", "phon": "arroz", "normal": "audio/0089-arroz-fa9db510.mp3"}, {"pt": "feij√£o", "fr": "haricots (noirs)", "phon": "feij-√£-oun", "normal": "audio/0090-feijao-182821d3.mp3"}, {"pt": "fruta", "fr": "fruit", "phon": "frouta", "normal": "audio/0091-fruta-1ea8c03f.mp3"}, {"pt": "ma√ß√£", "fr": "pomme", "phon": "m√¢ss√£", "normal": "audio/0092-maca-b0c51b47.mp3"}, {"pt": "banana", "fr": "banane", "phon": "banana", "normal": "audio/0093-banana-250e77f1.mp3"}, {"pt": "laranja (fruta)", "fr": "orange (fruit)", "phon": "laranja", "normal": "audio/0094-laranja-fruta-c676317c.mp3"}, {"pt": "uva", "fr": "raisin", "phon": "ouva", "normal": "audio/0095-uva-2d2c2a14.mp3"}, {"pt": "tomate", "fr": "tomate", "phon": "tomatchi", "normal": "audio/0096-tomate-13f20098.mp3"}, {"pt": "caf√©", "fr": "caf√©", "phon": "caf√®", "normal": "audio/0097-cafe-f424452a.mp3"}, {"pt": "ch√°", "fr": "th√©", "phon": "cha", "normal": "audio/0098-cha-a1f7a686.mp3"}, {"pt": "√°gua", "fr": "eau", "phon": "agoua", "normal": "audio/0099-agua-513cba58.mp3"}, {"pt": "suco", "fr": "jus", "phon": "souco", "normal": "audio/0100-suco-034af408.mp3"}, {"pt": "sal", "fr": "sel", "phon": "sal", "normal": "audio/0101-sal-caf8dae1.mp3"}, {"pt": "a√ß√∫car", "fr": "sucre", "phon": "assoucar", "normal": "audio/0102-acucar-ca7d10cb.mp3"}, {"pt": "camisa", "fr": "chemise", "phon": "camiza", "normal": "audio/0103-camisa-90db2a49.mp3"}, {"pt": "camiseta", "fr": "t-shirt", "phon": "camiz√©ta", "normal": "audio/0104-camiseta-a269b5db.mp3"}, {"pt": "cal√ßa", "fr": "pantalon", "phon": "calsa", "normal": "audio/0105-calca-f78c303c.mp3"}, {"pt": "saia", "fr": "jupe", "phon": "sa-√Øa", "normal": "audio/0106-saia-9c8f19d9.mp3"}, {"pt": "vestido", "fr": "robe", "phon": "vestidou", "normal": "audio/0107-vestido-f50e2745.mp3"}, {"pt": "casaco", "fr": "manteau", "phon": "casaco", "normal": "audio/0108-casaco-60d277de.mp3"}, {"pt": "sapato", "fr": "chaussure", "phon": "sapato", "normal": "audio/0109-sapato-056bd783.mp3"}, {"pt": "t√™nis", "fr": "baskets", "phon": "t√®niss", "normal": "audio/0110-tenis-773dd050.mp3"}, {"pt": "meia", "fr": "chaussette", "phon": "m√©√Øa", "normal": "audio/0111-meia-fb289770.mp3"}, {"pt": "bon√©", "fr": "casquette", "phon": "bon√®", "normal": "audio/0112-bone-d2f447d5.mp3"}, {"pt": "chap√©u", "fr": "chapeau", "phon": "chap√©-oun", "normal": "audio/0113-chapeu-a2dd12f9.mp3"}, {"pt": "cinto", "fr": "ceinture", "phon": "cinto", "normal": "audio/0114-cinto-fdfe92cf.mp3"}, {"pt": "√¥nibus", "fr": "bus", "phon": "√¥nibous", "normal": "audio/0115-onibus-5d9a02c3.mp3"}, {"pt": "metr√¥", "fr": "m√©tro", "phon": "m√©tr√¥", "normal": "audio/0116-metro-f3aca16b.mp3"}, {"pt": "trem", "fr": "train", "phon": "tr·∫Ω√Ø", "normal": "audio/0117-trem-b727f035.mp3"}, {"pt": "t√°xi", "fr": "taxi", "phon": "tacssi", "normal": "audio/0118-taxi-902ec012.mp3"}, {"pt": "carro", "fr": "voiture", "phon": "carro", "normal": "audio/0119-carro-3959fc61.mp3"}, {"pt": "a p√©", "fr": "√† pied", "phon": "a p√©", "normal": "audio/0120-a-pe-35118c9c.mp3"}, {"pt": "aeroporto", "fr": "a√©roport", "phon": "a√©rop√¥rto", "normal": "audio/0121-aeroporto-886813d6.mp3"}, {"pt": "esta√ß√£o", "fr": "gare / station", "phon": "estass-√£-oun", "normal": "audio/0122-estacao-86effe87.mp3"}, {"pt": "direita", "fr": "droite", "phon": "dir√®√Øta", "normal": "audio/0123-direita-ba6a1047.mp3"}, {"pt": "esquerda", "fr": "gauche", "phon": "√®ssqu√®rda", "normal": "audio/0124-esquerda-3d2a0394.mp3"}, {"pt": "em frente", "fr": "tout droit", "phon": "·∫Ω√Ø fr√®nti", "normal": "audio/0125-em-frente-76c10f40.mp3"}, {"pt": "perto", "fr": "pr√®s", "phon": "p√®rto", "normal": "audio/0126-perto-fe333e3d.mp3"}, {"pt": "cabe√ßa", "fr": "t√™te", "phon": "cab√©ssa", "normal": "audio/0127-cabeca-a172c0d6.mp3"}, {"pt": "olho", "fr": "≈ìil", "phon": "olho", "normal": "audio/0128-olho-9d12fc46.mp3"}, {"pt": "boca", "fr": "bouche", "phon": "boca", "normal": "audio/0129-boca-42a50539.mp3"}, {"pt": "dente", "fr": "dent", "phon": "d√®nchi", "normal": "audio/0130-dente-6cca05c1.mp3"}, {"pt": "m√£o", "fr": "main", "phon": "m√£-oun", "normal": "audio/0131-mao-e7a8963d.mp3"}, {"pt": "bra√ßo", "fr": "bras", "phon": "brasso", "normal": "audio/0132-braco-6fa6dd9e.mp3"}, {"pt": "perna", "fr": "jambe", "phon": "p√®rna", "normal": "audio/0133-perna-42a09241.mp3"}, {"pt": "p√©", "fr": "pied", "phon": "p√©", "normal": "audio/0134-pe-69a11c46.mp3"}, {"pt": "est√¥mago", "fr": "estomac", "phon": "est√¥mago", "normal": "audio/0135-estomago-b4a90e9d.mp3"}, {"pt": "dor", "fr": "douleur", "phon": "d√¥r", "normal": "audio/0136-dor-4a353c3e.mp3"}, {"pt": "rem√©dio", "fr": "m√©dicament", "phon": "r√©m√©dio", "normal": "audio/0137-remedio-65bd3539.mp3"}, {"pt": "hospital", "fr": "h√¥pital", "phon": "ospital", "normal": "audio/0138-hospital-2b2d005e.mp3"}, {"pt": "tempo", "fr": "temps (m√©t√©o)", "phon": "t·∫Ω√Ømpou", "normal": "audio/0139-tempo-65e336e2.mp3"}, {"pt": "calor", "fr": "chaleur", "phon": "cal√¥r", "normal": "audio/0140-calor-58216156.mp3"}, {"pt": "frio", "fr": "froid", "phon": "frrio", "normal": "audio/0141-frio-13e27737.mp3"}, {"pt": "chuva", "fr": "pluie", "phon": "chouva", "normal": "audio/0142-chuva-77ffa3e0.mp3"}, {"pt": "sol", "fr": "soleil", "phon": "sol", "normal": "audio/0143-sol-fbb93bb9.mp3"}, {"pt": "nublado", "fr": "nuageux", "phon": "noublado", "normal": "audio/0144-nublado-b5dc1388.mp3"}, {"pt": "trabalho", "fr": "travail", "phon": "trabailo", "normal": "audio/0145-trabalho-ec599dac.mp3"}, {"pt": "emprego", "fr": "emploi", "phon": "√®mpr√®go", "normal": "audio/0146-emprego-182a6eb1.mp3"}, {"pt": "empresa", "fr": "entreprise", "phon": "√®mpr√©sa", "normal": "audio/0147-empresa-9403f4c8.mp3"}, {"pt": "colega", "fr": "coll√®gue", "phon": "col√©ga", "normal": "audio/0148-colega-bda39488.mp3"}, {"pt": "reuni√£o", "fr": "r√©union", "phon": "r√©ouni-√£-oun", "normal": "audio/0149-reuniao-c249c931.mp3"}, {"pt": "projeto", "fr": "projet", "phon": "proj√©to", "normal": "audio/0150-projeto-cf5f9f0a.mp3"}, {"pt": "estudar", "fr": "√©tudier", "phon": "√®stoudar", "normal": "audio/0151-estudar-47556859.mp3"}, {"pt": "aprender", "fr": "apprendre", "phon": "aprrend√®r", "normal": "audio/0152-aprender-3fcde0df.mp3"}, {"pt": "ensinar", "fr": "enseigner", "phon": "√®nsinar", "normal": "audio/0153-ensinar-106687a9.mp3"}, {"pt": "ler", "fr": "lire", "phon": "l√®r", "normal": "audio/0154-ler-40d748da.mp3"}, {"pt": "escrever", "fr": "√©crire", "phon": "√®sscr√®v√®r", "normal": "audio/0155-escrever-db2017ed.mp3"}, {"pt": "falar", "fr": "parler", "phon": "falar", "normal": "audio/0156-falar-713a1504.mp3"}, {"pt": "gostar de", "fr": "aimer", "phon": "gostarr d√©", "normal": "audio/0157-gostar-de-3036f62d.mp3"}, {"pt": "querer", "fr": "vouloir", "phon": "qu√®rr√®r", "normal": "audio/0158-querer-e4fc0cb8.mp3"}, {"pt": "precisar de", "fr": "avoir besoin de", "phon": "pr√©cizar d√©", "normal": "audio/0159-precisar-de-57a31058.mp3"}, {"pt": "comprar", "fr": "acheter", "phon": "comprarr", "normal": "audio/0160-comprar-a2039cb4.mp3"}, {"pt": "vender", "fr": "vendre", "phon": "vend√®r", "normal": "audio/0161-vender-9c25bd58.mp3"}, {"pt": "ir", "fr": "aller", "phon": "ir", "normal": "audio/0162-ir-aa1553be.mp3"}, {"pt": "Eu gostaria de caf√©", "fr": "Je voudrais Eu gostaria de caf√©", "phon": "eu gostaria de caf√®", "normal": "audio/0163-eu-gostaria-de-cafe-4ce72d75.mp3"}, {"pt": "Eu gostaria de ch√°", "fr": "Je voudrais Eu gostaria de th√©", "phon": "eu gostaria de cha", "normal": "audio/0164-eu-gostaria-de-cha-fb3fc2ac.mp3"}, {"pt": "Eu gostaria de √°gua", "fr": "Je voudrais Eu gostaria de eau", "phon": "eu gostaria de agoua", "normal": "audio/0165-eu-gostaria-de-agua-6efcb008.mp3"}, {"pt": "Eu gostaria de suco", "fr": "Je voudrais Eu gostaria de jus", "phon": "eu gostaria de souco", "normal": "audio/0166-eu-gostaria-de-suco-0a3b1828.mp3"}, {"pt": "Eu gostaria de arroz", "fr": "Je voudrais Eu gostaria de riz", "phon": "eu gostaria de arroz", "normal": "audio/0167-eu-gostaria-de-arroz-1450d362.mp3"}, {"pt": "Eu gostaria de feij√£o", "fr": "Je voudrais Eu gostaria de haricots (noirs)", "phon": "eu gostaria de feij-√£-oun", "normal": "audio/0168-eu-gostaria-de-feijao-9cef4617.mp3"}, {"pt": "Onde fica o aeroporto?", "fr": "O√π se trouve Onde fica o a√©roport", "phon": "onde fica o a√©rop√¥rto", "normal": "audio/0169-onde-fica-o-aeroporto-2c1b27e8.mp3"}, {"pt": "Onde fica a esta√ß√£o?", "fr": "O√π se trouve Onde fica a gare / station", "phon": "onde fica a estass-√£-oun", "normal": "audio/0170-onde-fica-a-estacao-efe1839d.mp3"}, {"pt": "Onde fica o hotel?", "fr": "O√π se trouve Onde fica o hotel", "phon": "onde fica o hotel", "normal": "audio/0171-onde-fica-o-hotel-5bd48d18.mp3"}, {"pt": "Onde fica o restaurante?", "fr": "O√π se trouve Onde fica o restaurante", "phon": "onde fica o restaurante", "normal": "audio/0172-onde-fica-o-restaurante-1c2d5510.mp3"}, {"pt": "Onde fica o hospital?", "fr": "O√π se trouve Onde fica o h√¥pital", "phon": "onde fica o ospital", "normal": "audio/0173-onde-fica-o-hospital-f74f7e54.mp3"}, {"pt": "Onde fica o centro?", "fr": "O√π se trouve Onde fica o centro", "phon": "onde fica o centro", "normal": "audio/0174-onde-fica-o-centro-0816794e.mp3"}, {"pt": "Eu gosto de a√ß√∫car", "fr": "J'aime Eu gosto de sucre", "phon": "eu gosto de assoucar", "normal": "audio/0175-eu-gosto-de-acucar-1536adbf.mp3"}, {"pt": "Eu gosto de sal", "fr": "J'aime Eu gosto de sel", "phon": "eu gosto de sal", "normal": "audio/0176-eu-gosto-de-sal-d5cb4dec.mp3"}, {"pt": "Eu gosto de gl√∫ten", "fr": "J'aime Eu gosto de gluten", "phon": "eu gosto de glout√®n", "normal": "audio/0177-eu-gosto-de-gluten-da90dc4e.mp3"}, {"pt": "Eu gosto de lactose", "fr": "J'aime Eu gosto de lactose", "phon": "eu gosto de lact√¥zi", "normal": "audio/0178-eu-gosto-de-lactose-26d3d959.mp3"}, {"pt": "Eu preciso de a√ß√∫car", "fr": "J'ai besoin de Eu preciso de sucre", "phon": "eu preciso de assoucar", "normal": "audio/0179-eu-preciso-de-acucar-a7c4bd38.mp3"}, {"pt": "Eu preciso de sal", "fr": "J'ai besoin de Eu preciso de sel", "phon": "eu preciso de sal", "normal": "audio/0180-eu-preciso-de-sal-581f622a.mp3"}, {"pt": "Por favor", "fr": "S'il vous pla√Æt", "phon": "p√¥r fav√¥r", "normal": "audio/0181-por-favor-f2dbb03a.mp3"}, {"pt": "Obrigado", "fr": "Merci (dit par un homme)", "phon": "obrigado", "normal": "audio/0182-obrigado-34cfc76f.mp3"}, {"pt": "Obrigada", "fr": "Merci (dit par une femme)", "phon": "obrigada", "normal": "audio/0183-obrigada-cbebca25.mp3"}, {"pt": "Desculpa", "fr": "Pardon / D√©sol√©(e)", "phon": "d√®sscoupa", "normal": "audio/0184-desculpa-abdb77ac.mp3"}, {"pt": "Com licen√ßa", "fr": "Excusez-moi (pour passer)", "phon": "con liss√®nssa", "normal": "audio/0185-com-licenca-b5075943.mp3"}, {"pt": "Tudo bem?", "fr": "√áa va ?", "phon": "toudou b·∫Ω√Ø", "normal": "audio/0186-tudo-bem-03e5de8e.mp3"}, {"pt": "Onde voc√™ mora?", "fr": "O√π habitez-vous ?", "phon": "ondj√© vos√© mora", "normal": "audio/0187-onde-voce-mora-83cb1363.mp3"}, {"pt": "Eu moro em Paris", "fr": "J'habite √† Paris", "phon": "√©ou m√≥ro ·∫Ω√Ø Paris", "normal": "audio/0188-eu-moro-em-paris-8951938f.mp3"}, {"pt": "seis", "fr": "six", "phon": "se√Øss", "normal": "audio/0189-seis-ba157934.mp3"}, {"pt": "sete", "fr": "sept", "phon": "s√®tchi", "normal": "audio/0190-sete-0f961cd8.mp3"}, {"pt": "oito", "fr": "huit", "phon": "o√Øto", "normal": "audio/0191-oito-2a67c257.mp3"}, {"pt": "nove", "fr": "neuf", "phon": "nov√©", "normal": "audio/0192-nove-7f52fd19.mp3"}, {"pt": "dez", "fr": "dix", "phon": "d√®√Øss", "normal": "audio/0193-dez-b5ab4a29.mp3"}, {"pt": "dezessete", "fr": "dix-sept", "phon": "d√®z√©ss√®tchi", "normal": "audio/0194-dezessete-2f452a74.mp3"}, {"pt": "dezoito", "fr": "dix-huit", "phon": "d√®zo√Øto", "normal": "audio/0195-dezoito-c5d18ab4.mp3"}, {"pt": "dezenove", "fr": "dix-neuf", "phon": "d√®zenov√©", "normal": "audio/0196-dezenove-c0fd8b9e.mp3"}, {"pt": "vinte", "fr": "vingt", "phon": "vint√©", "normal": "audio/0197-vinte-d6b8c826.mp3"}, {"pt": "domingo", "fr": "dimanche", "phon": "doumingou", "normal": "audio/0198-domingo-da416310.mp3"}, {"pt": "amigo", "fr": "ami", "phon": "amigo", "normal": "audio/0199-amigo-01f07beb.mp3"}, {"pt": "amiga", "fr": "amie", "phon": "amiga", "normal": "audio/0200-amiga-11c67d63.mp3"}, {"pt": "varanda", "fr": "balcon", "phon": "varanda", "normal": "audio/0201-varanda-8c0a1c42.mp3"}, {"pt": "jardim", "fr": "jardin", "phon": "jardim", "normal": "audio/0202-jardim-14fff1ac.mp3"}, {"pt": "garagem", "fr": "garage", "phon": "garaj√®√Øm", "normal": "audio/0203-garagem-d7f7f011.mp3"}, {"pt": "escrit√≥rio", "fr": "bureau", "phon": "escritoriou", "normal": "audio/0204-escritorio-a52b9ed6.mp3"}, {"pt": "garfo", "fr": "fourchette", "phon": "garfou", "normal": "audio/0205-garfo-7d3ac037.mp3"}, {"pt": "faca", "fr": "couteau", "phon": "faca", "normal": "audio/0206-faca-6afc729d.mp3"}, {"pt": "carne", "fr": "viande", "phon": "carn√©", "normal": "audio/0207-carne-8ecc854e.mp3"}, {"pt": "frango", "fr": "poulet", "phon": "frango", "normal": "audio/0208-frango-07dd38db.mp3"}, {"pt": "peixe", "fr": "poisson", "phon": "p√©√Øch√©", "normal": "audio/0209-peixe-45620bd6.mp3"}, {"pt": "salada", "fr": "salade", "phon": "salada", "normal": "audio/0210-salada-e7c54bfd.mp3"}, {"pt": "batata", "fr": "pomme de terre", "phon": "batata", "normal": "audio/0211-batata-8467b174.mp3"}, {"pt": "cenoura", "fr": "carotte", "phon": "c√©noura", "normal": "audio/0212-cenoura-62358800.mp3"}, {"pt": "cebola", "fr": "oignon", "phon": "c√©bola", "normal": "audio/0213-cebola-1247a068.mp3"}, {"pt": "pimenta", "fr": "piment/poivre", "phon": "pimenta", "normal": "audio/0214-pimenta-2194c68b.mp3"}, {"pt": "√≥leo", "fr": "huile", "phon": "olio", "normal": "audio/0215-oleo-7b3fb2ba.mp3"}, {"pt": "azeite", "fr": "huile d'olive", "phon": "az√©√Øtchi", "normal": "audio/0216-azeite-77f3ba58.mp3"}, {"pt": "tamanho", "fr": "taille", "phon": "tamagno", "normal": "audio/0217-tamanho-581176c7.mp3"}, {"pt": "provador", "fr": "cabine d'essayage", "phon": "provador", "normal": "audio/0218-provador-13faa81e.mp3"}, {"pt": "barato", "fr": "pas cher", "phon": "barato", "normal": "audio/0219-barato-33e8c86f.mp3"}, {"pt": "caro", "fr": "cher", "phon": "caro", "normal": "audio/0220-caro-732849d5.mp3"}, {"pt": "longe", "fr": "loin", "phon": "lonj√©", "normal": "audio/0221-longe-3fd57249.mp3"}, {"pt": "farm√°cia", "fr": "pharmacie", "phon": "farmassia", "normal": "audio/0222-farmacia-b36a4b1f.mp3"}, {"pt": "alergia", "fr": "allergie", "phon": "alergia", "normal": "audio/0223-alergia-661fca89.mp3"}, {"pt": "febre", "fr": "fi√®vre", "phon": "f√®br√©", "normal": "audio/0224-febre-8a5bba8c.mp3"}, {"pt": "gripe", "fr": "grippe", "phon": "grip√©", "normal": "audio/0225-gripe-b8fa752b.mp3"}, {"pt": "vento", "fr": "vent", "phon": "v√®ntou", "normal": "audio/0226-vento-59c478b4.mp3"}, {"pt": "neve", "fr": "neige", "phon": "n√®v√©", "normal": "audio/0227-neve-394104b4.mp3"}, {"pt": "hoje", "fr": "aujourd'hui", "phon": "√¥j√©", "normal": "audio/0228-hoje-b5364edb.mp3"}, {"pt": "amanh√£", "fr": "demain", "phon": "ama-gn√£", "normal": "audio/0229-amanha-8a87dcb0.mp3"}, {"pt": "ontem", "fr": "hier", "phon": "ont√®m", "normal": "audio/0230-ontem-4a127553.mp3"}, {"pt": "ouvir", "fr": "√©couter", "phon": "ovirr", "normal": "audio/0231-ouvir-cc9785ea.mp3"}, {"pt": "ver", "fr": "voir", "phon": "v√®r", "normal": "audio/0232-ver-5e0b8aa1.mp3"}, {"pt": "vir", "fr": "venir", "phon": "virr", "normal": "audio/0233-vir-ce1a88f3.mp3"}, {"pt": "chegar", "fr": "arriver", "phon": "ch√©gar", "normal": "audio/0234-chegar-39831b34.mp3"}, {"pt": "sair", "fr": "sortir", "phon": "sa√Ør", "normal": "audio/0235-sair-e00104f8.mp3"}, {"pt": "abrir", "fr": "ouvrir", "phon": "abrirr", "normal": "audio/0236-abrir-50d3cb21.mp3"}, {"pt": "fechar", "fr": "fermer", "phon": "f√©char", "normal": "audio/0237-fechar-5749fbf8.mp3"}, {"pt": "Eu gostaria de carne", "fr": "Je voudrais Eu gostaria de viande", "phon": "eu gostaria de carn√©", "normal": "audio/0238-eu-gostaria-de-carne-994f5c6d.mp3"}, {"pt": "Eu gostaria de frango", "fr": "Je voudrais Eu gostaria de poulet", "phon": "eu gostaria de frango", "normal": "audio/0239-eu-gostaria-de-frango-d10cf0e5.mp3"}, {"pt": "Eu gostaria de peixe", "fr": "Je voudrais Eu gostaria de poisson", "phon": "eu gostaria de p√©√Øch√©", "normal": "audio/0240-eu-gostaria-de-peixe-d95359a4.mp3"}, {"pt": "Eu gostaria de salada", "fr": "Je voudrais Eu gostaria de salade", "phon": "eu gostaria de salada", "normal": "audio/0241-eu-gostaria-de-salada-54c09919.mp3"}, {"pt": "Eu quero caf√©", "fr": "Je veux Eu quero caf√©", "phon": "eu quero caf√®", "normal": "audio/0242-eu-quero-cafe-6d9e99ca.mp3"}, {"pt": "Eu quero ch√°", "fr": "Je veux Eu quero th√©", "phon": "eu quero cha", "normal": "audio/0243-eu-quero-cha-3f738ab6.mp3"}, {"pt": "√â perto", "fr": "√â perto", "phon": "√© perto", "normal": "audio/0244-e-perto-3aa07ba3.mp3"}, {"pt": "√â longe", "fr": "√â longe", "phon": "√© longe", "normal": "audio/0245-e-longe-9a6fc484.mp3"}, {"pt": "Vire √† direita", "fr": "Vire √† direita", "phon": "vire √† direita", "normal": "audio/0246-vire-a-direita-3dcc29e7.mp3"}, {"pt": "Vire √† esquerda", "fr": "Vire √† esquerda", "phon": "vire √† esquerda", "normal": "audio/0247-vire-a-esquerda-39407a21.mp3"}, {"pt": "Siga em frente", "fr": "Siga em frente", "phon": "siga em frente", "normal": "audio/0248-siga-em-frente-70bdc31b.mp3"}, {"pt": "Eu preciso de gl√∫ten", "fr": "J'ai besoin de Eu preciso de gluten", "phon": "eu preciso de glout√®n", "normal": "audio/0249-eu-preciso-de-gluten-d56171a9.mp3"}, {"pt": "Eu preciso de lactose", "fr": "J'ai besoin de Eu preciso de lactose", "phon": "eu preciso de lact√¥zi", "normal": "audio/0250-eu-preciso-de-lactose-ba885651.mp3"}, {"pt": "Eu trabalho em o aeroporto", "fr": "Je travaille √† Eu travail em o a√©roport", "phon": "eu trabailo em o a√©rop√¥rto", "normal": "audio/0251-eu-trabalho-em-o-aeroporto-6e77353a.mp3"}, {"pt": "Eu trabalho em a esta√ß√£o", "fr": "Je travaille √† Eu travail em a gare / station", "phon": "eu trabailo em a estass-√£-oun", "normal": "audio/0252-eu-trabalho-em-a-estacao-12d7afe9.mp3"}, {"pt": "Eu trabalho em o hotel", "fr": "Je travaille √† Eu travail em o hotel", "phon": "eu trabailo em o hotel", "normal": "audio/0253-eu-trabalho-em-o-hotel-543ca020.mp3"}, {"pt": "Eu trabalho em o restaurante", "fr": "Je travaille √† Eu travail em o restaurante", "phon": "eu trabailo em o restaurante", "normal": "audio/0254-eu-trabalho-em-o-restaurante-fdab6da0.mp3"}, {"pt": "Tudo bem", "fr": "√áa va", "phon": "toudou b·∫Ω√Ø", "normal": "audio/0255-tudo-bem-734b6471.mp3"}, {"pt": "Prazer", "fr": "Enchant√©(e)", "phon": "praz√®r", "normal": "audio/0256-prazer-e32ecf63.mp3"}, {"pt": "Eu quero √°gua", "fr": "Je veux Eu quero eau", "phon": "eu quero agoua", "normal": "audio/0257-eu-quero-agua-36d9b05b.mp3"}, {"pt": "Eu quero suco", "fr": "Je veux Eu quero jus", "phon": "eu quero souco", "normal": "audio/0258-eu-quero-suco-bae13aa7.mp3"}, {"pt": "Eu quero arroz", "fr": "Je veux Eu quero riz", "phon": "eu quero arroz", "normal": "audio/0259-eu-quero-arroz-b65c8ffe.mp3"}, {"pt": "Eu quero feij√£o", "fr": "Je veux Eu quero haricots (noirs)", "phon": "eu quero feij-√£-oun", "normal": "audio/0260-eu-quero-feijao-a271ff4a.mp3"}, {"pt": "Eu quero carne", "fr": "Je veux Eu quero viande", "phon": "eu quero carn√©", "normal": "audio/0261-eu-quero-carne-6fbf53be.mp3"}, {"pt": "Eu quero frango", "fr": "Je veux Eu quero poulet", "phon": "eu quero frango", "normal": "audio/0262-eu-quero-frango-09a86855.mp3"}, {"pt": "Eu trabalho em o hospital", "fr": "Je travaille √† Eu travail em o h√¥pital", "phon": "eu trabailo em o ospital", "normal": "audio/0263-eu-trabalho-em-o-hospital-dba85d46.mp3"}, {"pt": "Eu trabalho em o centro", "fr": "Je travaille √† Eu travail em o centro", "phon": "eu trabailo em o centro", "normal": "audio/0264-eu-trabalho-em-o-centro-8030f637.mp3"}, {"pt": "Eu estudo a√ß√∫car", "fr": "J'√©tudie Eu estudo sucre", "phon": "eu estudo assoucar", "normal": "audio/0265-eu-estudo-acucar-5bb30418.mp3"}, {"pt": "Eu estudo sal", "fr": "J'√©tudie Eu estudo sel", "phon": "eu estudo sal", "normal": "audio/0266-eu-estudo-sal-554a378b.mp3"}, {"pt": "Eu estudo gl√∫ten", "fr": "J'√©tudie Eu estudo gluten", "phon": "eu estudo glout√®n", "normal": "audio/0267-eu-estudo-gluten-ce283203.mp3"}, {"pt": "Eu estudo lactose", "fr": "J'√©tudie Eu estudo lactose", "phon": "eu estudo lact√¥zi", "normal": "audio/0268-eu-estudo-lactose-080156ae.mp3"}];
function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} return a; }
function makeQuiz(POOL, limit){ const items=[...POOL]; shuffle(items); if(limit&&limit>0){ items.length=Math.min(limit,items.length);} return items; }
function buildChoices(pool, answer, n=4){
  const others = pool.filter(x => x.pt !== answer.pt);
  shuffle(others);
  const picks = others.slice(0, Math.max(0, n-1));
  return shuffle([...picks, answer]);
}
// --- Acc√®s direct comme les le√ßons : la phon√©tique est dans item.phon ---
function getPhon(x){ return (x && typeof x.phon === 'string') ? x.phon : ''; }
function getFr(x){ return (x && typeof x.fr   === 'string') ? x.fr   : (x && x.fr) || ''; }

function QuizApp(config){
  const AUTO_DELAY_MS = 900;
  const EXTRA_FEEDBACK_MS = 3000; // +3s d'affichage de la r√©ponse
  const TIMER_LIMIT_S = 8;
  const state = { pool:config.pool, idx:0, score:0, total:config.total, optionsCount:4,
                  started:false, paused:false, timerNext:null, countdown:TIMER_LIMIT_S,
                  countdownInterval:null, answered:false, history:[] };
  const elBtnStart   = document.getElementById('btn-start');
  const elBtnPause   = document.getElementById('btn-pause');
  const elBtnResume  = document.getElementById('btn-resume');
  const elBtnRestart = document.getElementById('btn-restart');
  const elQuestion = document.getElementById('qnum');
  const elScore    = document.getElementById('score');
  const elTimer    = document.getElementById('timer');
  const elChoices  = document.getElementById('choices');
  const elResult   = document.getElementById('result');
  const elConfig   = document.getElementById('config');
  const elStage    = document.getElementById('stage');

  function setButtons(){
    elBtnStart.style.display   = state.started ? 'none' : 'inline-flex';
    elBtnPause.style.display   = (state.started && !state.paused) ? 'inline-flex' : 'none';
    elBtnResume.style.display  = (state.started && state.paused) ? 'inline-flex' : 'none';
    elBtnRestart.style.display = state.started ? 'inline-flex' : 'none';
  }
  function clearTimers(){
    if (state.timerNext){ clearTimeout(state.timerNext); state.timerNext = null; }
    if (state.countdownInterval){ clearInterval(state.countdownInterval); state.countdownInterval = null; }
  }
  function scheduleNext(){
    if(state.paused) return;
    if(state.timerNext){clearTimeout(state.timerNext);} 
    state.timerNext = setTimeout(nextQuestion, AUTO_DELAY_MS + EXTRA_FEEDBACK_MS);
  }
  function startCountdown(){
    if (state.countdownInterval){ clearInterval(state.countdownInterval); }
    state.countdown = TIMER_LIMIT_S;
    elTimer.textContent = state.countdown.toString();
    state.countdownInterval = setInterval(() => {
      if (state.paused) return;
      state.countdown -= 1;
      elTimer.textContent = Math.max(0, state.countdown).toString();
      if (state.countdown <= 0){
        clearInterval(state.countdownInterval);
        onTimeout();
      }
    }, 1000);
  }
  function stopCountdown(){ if(state.countdownInterval){ clearInterval(state.countdownInterval); state.countdownInterval=null; }}
  function render(){
    const cur = state.pool[state.idx];
    state.answered = false;
    elQuestion.textContent = (state.idx + 1) + " / " + state.total;
    elScore.textContent = state.score;
    elResult.textContent = "";
    elChoices.innerHTML = "";
    const opts = buildChoices(state.pool, cur, state.optionsCount);
    opts.forEach(opt => {
      const btn = document.createElement('button');
      btn.className = 'choice';
      btn.textContent = opt.pt;
      btn.onclick = () => onAnswer(opt.pt === cur.pt, btn);
      elChoices.appendChild(btn);
    });
    if (!state.paused) {
      stopAudio();
      play(cur.normal);
      startCountdown();
    }
  }
  function lockChoices(){ elChoices.querySelectorAll('.choice').forEach(b => b.disabled = true); }
  function markCorrect(){
    elChoices.querySelectorAll('.choice').forEach(b => {
      if (b.textContent === state.pool[state.idx].pt) b.classList.add('correct');
    });
  }
  function showFeedback(item, isCorrect){
    const phon = getPhon(item);
    const fr   = getFr(item);
    const icon = isCorrect ? '‚úÖ' : '‚ùå';
    const title = isCorrect ? 'Correct !' : 'Mauvaise r√©ponse.';
    elResult.innerHTML = "<div class=\"feedback\">"+
      `<div class="fb-title">${icon} ${title}</div>`+
      `<div class="fb-pt"><strong>Portugais :</strong> ${item.pt || ''}</div>`+
      `<div class="fb-phon"><strong>Phon√©tique :</strong> ${phon || '‚Äî'}</div>`+
      `<div class="fb-fr"><strong>Fran√ßais :</strong> ${fr || '‚Äî'}</div>`+
    "</div>";
  }
  function onAnswer(isCorrect, btn){
    if (state.answered) return;
    state.answered = true;
    stopCountdown();
    lockChoices();
    if (isCorrect){ btn.classList.add('correct'); state.score += 1; }
    else { btn.classList.add('wrong'); markCorrect(); }
    elScore.textContent = state.score;
    const item = state.pool[state.idx];
    showFeedback(item, isCorrect);
    state.history.push({ pt: item.pt || '', phon: getPhon(item), fr: getFr(item), correct: !!isCorrect });
    scheduleNext();
  }
  function onTimeout(){
    if (state.answered) return;
    state.answered = true;
    lockChoices(); markCorrect();
    const item = state.pool[state.idx];
    showFeedback(item, false);
    state.history.push({ pt: item.pt || '', phon: getPhon(item), fr: getFr(item), correct: false });
    scheduleNext();
  }
  function buildSummary(entries){
    const rows = entries.map((e,i)=>{
      const status = e.correct ? '‚úÖ' : '‚ùå';
      return `<tr class="row-${e.correct?'ok':'ko'}">`
           + `<td>${i+1}</td>`
           + `<td>${status}</td>`
           + `<td>${e.pt || ''}</td>`
           + `<td>${e.phon || '‚Äî'}</td>`
           + `<td>${e.fr || '‚Äî'}</td>`
           + `</tr>`;
    }).join('');
    const score = `${state.score} / ${state.total}`;
    return (
      `<div class="summary">`
      + `<div class="summary-title">üéâ Termin√© ! Score : ${score}</div>`
      + `<table class="summary-table">`
      + `<thead><tr><th>#</th><th>OK</th><th>Portugais</th><th>Phon√©tique</th><th>Fran√ßais</th></tr></thead>`
      + `<tbody>${rows}</tbody>`
      + `</table>`
      + `</div>`
    );
  }
  function nextQuestion(){
    clearTimers();
    if (state.idx + 1 >= state.total){
      elChoices.innerHTML = "";
      elResult.innerHTML = buildSummary(state.history);
      setButtons();
      return;
    }
    state.idx += 1; render();
  }
  // Controls
  elBtnStart.onclick = () => {
    const sel = document.getElementById('qcount');
    const total = parseInt(sel.value, 10) || 10;
    state.history = [];
    state.pool = makeQuiz(state.pool, total);
    state.total = state.pool.length;
    state.idx = 0; state.score = 0; state.started = true; state.paused = false;
    clearTimers(); stopAudio(); elConfig.style.display = 'none'; elStage.style.display = 'block';
    render(); setButtons();
  };
  elBtnPause.onclick = () => { state.paused = true; clearTimers(); stopAudio(); setButtons(); };
  elBtnResume.onclick = () => { state.paused = false; setButtons(); render(); };
  elBtnRestart.onclick = () => { clearTimers(); state.started=false; state.paused=false; state.idx=0; state.score=0; stopAudio(); elStage.style.display='none'; elConfig.style.display='block'; setButtons(); };
  setButtons();
}
function startQuiz(POOL){ QuizApp({ pool: POOL, total: POOL.length }); }

/* CSS sugg√©r√© (optionnel)
  .feedback { margin-top: .5rem; line-height:1.4; }
  .fb-title { font-weight:600; margin-bottom:.25rem; }
  .summary { margin-top: .75rem; }
  .summary-title { font-weight:700; margin-bottom:.5rem; }
  .summary-table { width:100%; border-collapse: collapse; }
  .summary-table th, .summary-table td { border:1px solid #ddd; padding:.35rem .5rem; text-align:left; }
  .row-ok td { background: #f2fbf4; }
  .row-ko td { background: #fff5f5; }
*/

startQuiz(POOL);</script>
</body>
</html>
