<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Quiz ‚Äî Tous les mots</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>:root{
  --bg:#0b0f14;--card:#121821;--text:#eef3fb;--muted:#b8c0cc;--accent:#5aa0ff;--accent2:#8ad1ff;--border:#1e2632
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:radial-gradient(1000px 600px at 20% -10%,#16202d 0%,#0b0f14 60%) no-repeat fixed,var(--bg);
  color:var(--text);padding:32px 16px 80px}
.container{max-width:1000px;margin:0 auto}
h1{margin:0 0 8px} h2{margin:22px 0 12px} .sub{color:var(--muted);margin:0 0 24px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);
  border:1px solid var(--border);border-radius:16px;padding:16px;display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center}
.badge{min-width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
  background:linear-gradient(135deg,var(--accent),var(--accent2));color:#0b0f14;font-weight:700;border:1px solid rgba(255,255,255,.2);
  box-shadow:0 6px 14px rgba(90,160,255,.35)}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.texts{display:flex;gap:12px;align-items:center}
.texts .label{display:grid;place-items:center}
.pt{font-size:18px;font-weight:700;line-height:1.2}
.phon{color:#9fb4cc;font-size:13px;margin-top:2px}
.fr{color:var(--muted);margin-top:2px;font-size:14px}
.actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
button,a.btn{border:1px solid var(--border);background:#0e141d;color:#eef3fb;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:600;
  transition:transform .05s ease,border-color .2s ease;text-decoration:none;display:inline-flex;align-items:center;gap:6px}
button:hover,a.btn:hover{border-color:var(--accent)} button:active,a.btn:active{transform:translateY(1px)}
.small{font-size:12px;color:var(--muted)}
.footer{position:fixed;left:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);
  border-top:1px solid var(--border);padding:10px 16px;color:var(--muted);font-size:12px;display:flex;justify-content:center}
.toolbar{display:flex;gap:10px;align-items:center;margin:16px 0 20px;flex-wrap:wrap}
.toolbar input,.toolbar select{flex:1;min-width:220px;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0e141d;color:#eef3fb;outline:none}
.quiz-wrap{max-width:720px;margin:0 auto}
.quiz-card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:14px}
.choice{border:1px solid var(--border);border-radius:10px;padding:10px 12px;cursor:pointer;background:#0e141d}
.choice.correct{border-color:#3ddc97} .choice.wrong{border-color:#ff6b6b}
.kpi{display:flex;gap:12px;flex-wrap:wrap}
.kpi .pill{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0e141d;color:#eef3fb}
.timer{font-weight:700}
@media (max-width:640px){.card{grid-template-columns:1fr}.actions{justify-content:flex-start}}
</style>
</head>
<body>
  <div class="container">
    <div class="row" style="justify-content:space-between;align-items:baseline">
      <h1>Quiz ‚Äî Tous les mots</h1>
      <div class="row"><a class="btn" href="index.html">üè† Accueil</a></div>
    </div>
    <p class="sub">Clique sur la bonne r√©ponse apr√®s √©coute.</p>
        <div class="quiz-wrap">
      <div id="config" class="quiz-card">
        <div class="pt">Param√®tres du quiz</div>
        <div class="row">
          <label for="qcount">Nombre de questions</label>
          <select id="qcount">
            <option value="10" selected>10</option>
            <option value="5">5</option>
            <option value="15">15</option>
            <option value="20">20</option>
          </select>
          <button id="btn-start">‚ñ∂Ô∏è D√©marrer</button>
        </div>
        <div class="small">Le quiz joue automatiquement l‚Äôaudio. R√©ponds avant la fin du <b>compte √† rebours</b>.</div>
      </div>

      <div id="stage" class="quiz-card" style="display:none">
        <div class="row kpi">
          <div class="pill">Question : <span id="qnum">1</span></div>
          <div class="pill">Score : <span id="score">0</span></div>
          <div class="pill">‚è±Ô∏è Temps : <span id="timer" class="timer">8</span>s</div>
        </div>
        <div id="choices" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(180px,1fr));"></div>
        <div class="row" style="gap:8px">
          <button id="btn-pause" style="display:none">‚è∏Ô∏è Pause</button>
          <button id="btn-resume" style="display:none">‚ñ∂Ô∏è Reprendre</button>
          <button id="btn-restart" style="display:none">üîÑ Recommencer</button>
          <span id="result"></span>
        </div>
      </div>
    </div>
    
  </div>
  <div class="footer">Pages statiques ‚Äî ouvrez localement sans serveur.</div>
  <audio id="player" preload="auto"></audio>
  <script>const player = document.getElementById('player');
function play(src){ player.src = src; player.play(); }
function stopAudio(){ try{ player.pause(); player.currentTime = 0; }catch(e){} }
function filterCards(){
  const q=(document.getElementById('search')?.value||'').trim().toLowerCase();
  const cards=document.querySelectorAll('#list .card');
  if(!q){ cards.forEach(c=>c.style.display=''); return; }
  cards.forEach(c=>{
    const pt=c.getAttribute('data-pt'), fr=c.getAttribute('data-fr');
    c.style.display = (pt.includes(q) || fr.includes(q)) ? '' : 'none';
  });
}
function toggleQuiz(){
  const chk=document.getElementById('quiz');
  const frs=document.querySelectorAll('.fr');
  frs.forEach(el=>{ el.style.visibility = chk.checked ? 'hidden' : 'visible'; });
}
</script>
  <script>const POOL = [{"pt": "aberto / fechado", "fr": "ouvert / ferm√©", "phon": "abertou / fechadou", "normal": "audio/0001-aberto-fechado-d5843aef.mp3"}, {"pt": "aceito", "fr": "j‚Äôaccepte", "phon": "aceitou", "normal": "audio/0002-aceito-eb6e1539.mp3"}, {"pt": "acho que‚Ä¶", "fr": "je pense que‚Ä¶", "phon": "achou k√©‚Ä¶", "normal": "audio/0003-acho-que-74e993d0.mp3"}, {"pt": "agora", "fr": "maintenant", "phon": "agora", "normal": "audio/0004-agora-39a44d0c.mp3"}, {"pt": "ag√™ncia", "fr": "agence", "phon": "agencia", "normal": "audio/0005-agencia-bb858ca3.mp3"}, {"pt": "alto / baixo", "fr": "grand / petit (taille)", "phon": "altou / baixou", "normal": "audio/0006-alto-baixo-81086aae.mp3"}, {"pt": "amanh√£", "fr": "demain", "phon": "amany√£n", "normal": "audio/0007-amanha-8a87dcb0.mp3"}, {"pt": "ambul√¢ncia", "fr": "ambulance", "phon": "ambulancia", "normal": "audio/0008-ambulancia-45e6a068.mp3"}, {"pt": "amigo / amiga", "fr": "ami / amie", "phon": "amigou / amiga", "normal": "audio/0009-amigo-amiga-45e6cd06.mp3"}, {"pt": "aplicativo", "fr": "application (mobile)", "phon": "aplicatchivou", "normal": "audio/0010-aplicativo-065cf909.mp3"}, {"pt": "aplicativo de transporte", "fr": "appli de transport", "phon": "aplicatchivou d√© transport√©", "normal": "audio/0011-aplicativo-de-transporte-b59168e9.mp3"}, {"pt": "areia", "fr": "sable", "phon": "areia", "normal": "audio/0012-areia-bea6abe8.mp3"}, {"pt": "atraso", "fr": "retard", "phon": "atrasou", "normal": "audio/0013-atraso-a98508fa.mp3"}, {"pt": "avi√£o", "fr": "avion", "phon": "avi√£nw", "normal": "audio/0014-aviao-01f28123.mp3"}, {"pt": "bagagem", "fr": "bagage", "phon": "bagaj√®m", "normal": "audio/0015-bagagem-252c434f.mp3"}, {"pt": "balc√£o", "fr": "comptoir", "phon": "balc√£nw", "normal": "audio/0016-balcao-4da59bf8.mp3"}, {"pt": "baldea√ß√£o", "fr": "correspondance", "phon": "baldeass√£nw", "normal": "audio/0017-baldeacao-1c9fdd58.mp3"}, {"pt": "banca", "fr": "√©tal", "phon": "banca", "normal": "audio/0018-banca-1ed6f1a1.mp3"}, {"pt": "barulhento / silencioso", "fr": "bruyant / silencieux", "phon": "barulyentou / silenciosou", "normal": "audio/0019-barulhento-silencioso-500799bd.mp3"}, {"pt": "bilhete", "fr": "billet", "phon": "bilyet√©", "normal": "audio/0020-bilhete-d98d49da.mp3"}, {"pt": "boa noite", "fr": "bonsoir / bonne nuit", "phon": "boa noit√©", "normal": "audio/0021-boa-noite-acc42079.mp3"}, {"pt": "boa tarde", "fr": "bonjour (apr√®s-midi)", "phon": "boa tard√©", "normal": "audio/0022-boa-tarde-f0a89eea.mp3"}, {"pt": "bom dia", "fr": "bonjour (matin)", "phon": "bom dj√Øa", "normal": "audio/0023-bom-dia-65463ee6.mp3"}, {"pt": "cabelo", "fr": "cheveux", "phon": "cabelou", "normal": "audio/0024-cabelo-2106c421.mp3"}, {"pt": "caf√© da manh√£", "fr": "petit-d√©jeuner", "phon": "caf√® da many√£n", "normal": "audio/0025-cafe-da-manha-0ab95074.mp3"}, {"pt": "caixa", "fr": "caisse / guichet", "phon": "caixa", "normal": "audio/0026-caixa-81dbefaf.mp3"}, {"pt": "cancelado", "fr": "annul√©", "phon": "canceladou", "normal": "audio/0027-cancelado-f5ef8596.mp3"}, {"pt": "capaz / incapaz", "fr": "capable / incapable", "phon": "capaz / incapaz", "normal": "audio/0028-capaz-incapaz-d8292e1e.mp3"}, {"pt": "card√°pio", "fr": "menu (carte)", "phon": "cardapiou", "normal": "audio/0029-cardapio-f2d87309.mp3"}, {"pt": "carrinho", "fr": "panier (e-commerce)", "phon": "cahinyou", "normal": "audio/0030-carrinho-45672334.mp3"}, {"pt": "cart√£o de cr√©dito", "fr": "carte de cr√©dit", "phon": "cart√£nw d√© cr√®dj√Øtou", "normal": "audio/0031-cartao-de-credito-a7da0224.mp3"}, {"pt": "cedo / tarde", "fr": "t√¥t / tard", "phon": "cedou / tard√©", "normal": "audio/0032-cedo-tarde-6929fabd.mp3"}, {"pt": "chave do quarto", "fr": "cl√© de chambre", "phon": "chav√© dou kartou", "normal": "audio/0033-chave-do-quarto-d93c8f93.mp3"}, {"pt": "check-in", "fr": "enregistrement (check-in)", "phon": "check-in", "normal": "audio/0034-check-in-94c0fbc3.mp3"}, {"pt": "check-out", "fr": "d√©part (check-out)", "phon": "check-out", "normal": "audio/0035-check-out-4142bde3.mp3"}, {"pt": "cinco", "fr": "cinq", "phon": "cincou", "normal": "audio/0036-cinco-a097b33b.mp3"}, {"pt": "colega", "fr": "coll√®gue", "phon": "colega", "normal": "audio/0037-colega-bda39488.mp3"}, {"pt": "coment√°rio", "fr": "commentaire", "phon": "comentariou", "normal": "audio/0038-comentario-8001800f.mp3"}, {"pt": "como vai?", "fr": "comment √ßa va ?", "phon": "comou vai?", "normal": "audio/0039-como-vai-0909412f.mp3"}, {"pt": "como?", "fr": "comment ?", "phon": "comou?", "normal": "audio/0040-como-f1a75917.mp3"}, {"pt": "compartilhar", "fr": "partager (r√©seau)", "phon": "compartchilyar", "normal": "audio/0041-compartilhar-ecb66237.mp3"}, {"pt": "concordo", "fr": "je suis d‚Äôaccord", "phon": "concordou", "normal": "audio/0042-concordo-75b7e94f.mp3"}, {"pt": "conselho", "fr": "conseil", "phon": "conselyou", "normal": "audio/0043-conselho-87823284.mp3"}, {"pt": "conserto", "fr": "r√©paration", "phon": "consertou", "normal": "audio/0044-conserto-3d168ee9.mp3"}, {"pt": "conta", "fr": "addition / compte", "phon": "conta", "normal": "audio/0045-conta-90656691.mp3"}, {"pt": "crian√ßa", "fr": "enfant", "phon": "crianssa", "normal": "audio/0046-crianca-e968cab5.mp3"}, {"pt": "curtir", "fr": "liker / appr√©cier", "phon": "curtchir", "normal": "audio/0047-curtir-6d214168.mp3"}, {"pt": "dados m√≥veis", "fr": "donn√©es mobiles", "phon": "dados moveis", "normal": "audio/0048-dados-moveis-a8c083d6.mp3"}, {"pt": "de onde voc√™ √©?", "fr": "tu viens d‚Äôo√π ?", "phon": "d√© ond√© voc√© √®?", "normal": "audio/0049-de-onde-voce-e-acd62f48.mp3"}, {"pt": "dep√≥sito", "fr": "d√©p√¥t", "phon": "depositou", "normal": "audio/0050-deposito-aa79a071.mp3"}, {"pt": "desconto", "fr": "r√©duction", "phon": "descontou", "normal": "audio/0051-desconto-cb911ab0.mp3"}, {"pt": "desembarque", "fr": "d√©barquement", "phon": "desembark√©", "normal": "audio/0052-desembarque-84d1469d.mp3"}, {"pt": "destinat√°rio", "fr": "destinataire", "phon": "destchinatariou", "normal": "audio/0053-destinatario-aebaff7e.mp3"}, {"pt": "dever", "fr": "devoir (nom) / obligation", "phon": "dever", "normal": "audio/0054-dever-b1e99c23.mp3"}, {"pt": "dez", "fr": "dix", "phon": "dez", "normal": "audio/0055-dez-b5ab4a29.mp3"}, {"pt": "dinheiro", "fr": "argent (liquide)", "phon": "dj√Ønyeirou", "normal": "audio/0056-dinheiro-54975ba2.mp3"}, {"pt": "discordo", "fr": "je ne suis pas d‚Äôaccord", "phon": "dj√Øscordou", "normal": "audio/0057-discordo-774a6aff.mp3"}, {"pt": "documento", "fr": "document", "phon": "documentou", "normal": "audio/0058-documento-287ca5e5.mp3"}, {"pt": "dois", "fr": "deux", "phon": "dois", "normal": "audio/0059-dois-7b426791.mp3"}, {"pt": "domingo", "fr": "dimanche", "phon": "domingou", "normal": "audio/0060-domingo-da416310.mp3"}, {"pt": "dor de cabe√ßa", "fr": "mal de t√™te", "phon": "dor d√© cabessa", "normal": "audio/0061-dor-de-cabeca-cf919d9a.mp3"}, {"pt": "download", "fr": "t√©l√©charger", "phon": "download", "normal": "audio/0062-download-817248fb.mp3"}, {"pt": "embarque", "fr": "embarquement", "phon": "embark√©", "normal": "audio/0063-embarque-79ffd84a.mp3"}, {"pt": "emerg√™ncia", "fr": "urgence", "phon": "emergencia", "normal": "audio/0064-emergencia-e81e5bab.mp3"}, {"pt": "encomenda", "fr": "colis", "phon": "encomenda", "normal": "audio/0065-encomenda-3da1145f.mp3"}, {"pt": "endere√ßo", "fr": "adresse", "phon": "enderessou", "normal": "audio/0066-endereco-ed0d4669.mp3"}, {"pt": "entrada", "fr": "entr√©e (plat) / entr√©e (lieu)", "phon": "entrada", "normal": "audio/0067-entrada-a9df7a76.mp3"}, {"pt": "esposa", "fr": "√©pouse", "phon": "esposa", "normal": "audio/0068-esposa-39dea479.mp3"}, {"pt": "esquina", "fr": "coin de rue", "phon": "eskina", "normal": "audio/0069-esquina-d29ae7b1.mp3"}, {"pt": "eu abro", "fr": "je ouvrir", "phon": "eu abrou", "normal": "audio/0070-eu-abro-d73b9727.mp3"}, {"pt": "eu ajudo", "fr": "je aider", "phon": "eu ajudou", "normal": "audio/0071-eu-ajudo-ea3331ca.mp3"}, {"pt": "eu bebo", "fr": "je boire", "phon": "eu bebou", "normal": "audio/0072-eu-bebo-8f162182.mp3"}, {"pt": "eu chego", "fr": "je arriver", "phon": "eu chegou", "normal": "audio/0073-eu-chego-421346b6.mp3"}, {"pt": "eu como", "fr": "je manger", "phon": "eu comou", "normal": "audio/0074-eu-como-b297a8d4.mp3"}, {"pt": "eu compro", "fr": "je acheter", "phon": "eu comprou", "normal": "audio/0075-eu-compro-ab15e612.mp3"}, {"pt": "eu digo", "fr": "je dire", "phon": "eu dj√Øgou", "normal": "audio/0076-eu-digo-1a5116e8.mp3"}, {"pt": "eu entro", "fr": "je entrer", "phon": "eu entrou", "normal": "audio/0077-eu-entro-24473eee.mp3"}, {"pt": "eu espero", "fr": "je attendre / esp√©rer", "phon": "eu esperou", "normal": "audio/0078-eu-espero-0e90196e.mp3"}, {"pt": "eu estou", "fr": "je √™tre (√©tat)", "phon": "eu estou", "normal": "audio/0079-eu-estou-d7acd4ed.mp3"}, {"pt": "eu estudo", "fr": "je √©tudier", "phon": "eu estudou", "normal": "audio/0080-eu-estudo-f08d2837.mp3"}, {"pt": "eu falo", "fr": "je parler", "phon": "eu falou", "normal": "audio/0081-eu-falo-65e6e857.mp3"}, {"pt": "eu fa√ßo", "fr": "je faire", "phon": "eu fassou", "normal": "audio/0082-eu-faco-4c781ff8.mp3"}, {"pt": "eu fecho", "fr": "je fermer", "phon": "eu fechou", "normal": "audio/0083-eu-fecho-7c03c944.mp3"}, {"pt": "eu fico", "fr": "je rester / devenir", "phon": "eu ficou", "normal": "audio/0084-eu-fico-018fa287.mp3"}, {"pt": "eu gosto", "fr": "je aimer", "phon": "eu gostou", "normal": "audio/0085-eu-gosto-ae5ebea4.mp3"}, {"pt": "eu ligo", "fr": "je appeler (t√©l√©ph.) / allumer", "phon": "eu ligou", "normal": "audio/0086-eu-ligo-cc59dc95.mp3"}, {"pt": "eu moro", "fr": "je habiter", "phon": "eu morou", "normal": "audio/0087-eu-moro-0fb1ab65.mp3"}, {"pt": "eu pe√ßo", "fr": "je demander / commander", "phon": "eu pessou", "normal": "audio/0088-eu-peco-22a1b9b6.mp3"}, {"pt": "eu posso", "fr": "je pouvoir", "phon": "eu possou", "normal": "audio/0089-eu-posso-e4d4fce3.mp3"}, {"pt": "eu preciso", "fr": "je avoir besoin", "phon": "eu precisou", "normal": "audio/0090-eu-preciso-ad48069b.mp3"}, {"pt": "eu quero", "fr": "je vouloir", "phon": "eu kerou", "normal": "audio/0091-eu-quero-8d99869f.mp3"}, {"pt": "eu saio", "fr": "je sortir", "phon": "eu saiou", "normal": "audio/0092-eu-saio-91ef1837.mp3"}, {"pt": "eu sou", "fr": "je √™tre", "phon": "eu sou", "normal": "audio/0093-eu-sou-a8f404f6.mp3"}, {"pt": "eu tenho", "fr": "je avoir", "phon": "eu tenyou", "normal": "audio/0094-eu-tenho-5a651b8c.mp3"}, {"pt": "eu trabalho", "fr": "je travailler", "phon": "eu trabalyou", "normal": "audio/0095-eu-trabalho-ed1b7c90.mp3"}, {"pt": "eu vejo", "fr": "je voir", "phon": "eu vejou", "normal": "audio/0096-eu-vejo-1da5dc0b.mp3"}, {"pt": "eu viajo", "fr": "je voyager", "phon": "eu viajou", "normal": "audio/0097-eu-viajo-87a5ad8d.mp3"}, {"pt": "eu vou", "fr": "je aller", "phon": "eu vou", "normal": "audio/0098-eu-vou-073bca2e.mp3"}, {"pt": "eu vou ajudar", "fr": "je vais aider", "phon": "eu vou ajudar", "normal": "audio/0099-eu-vou-ajudar-e9b1cd9d.mp3"}, {"pt": "eu vou beber", "fr": "je vais boire", "phon": "eu vou beber", "normal": "audio/0100-eu-vou-beber-35e32423.mp3"}, {"pt": "eu vou chamar", "fr": "je vais appeler", "phon": "eu vou chamar", "normal": "audio/0101-eu-vou-chamar-fe2aa9e8.mp3"}, {"pt": "eu vou chegar", "fr": "je vais arriver", "phon": "eu vou chegar", "normal": "audio/0102-eu-vou-chegar-f177e20e.mp3"}, {"pt": "eu vou comer", "fr": "je vais manger", "phon": "eu vou comer", "normal": "audio/0103-eu-vou-comer-817d4593.mp3"}, {"pt": "eu vou comprar", "fr": "je vais acheter", "phon": "eu vou comprar", "normal": "audio/0104-eu-vou-comprar-52f078d6.mp3"}, {"pt": "eu vou entrar", "fr": "je vais entrer", "phon": "eu vou entrar", "normal": "audio/0105-eu-vou-entrar-b30e7bf7.mp3"}, {"pt": "eu vou estar", "fr": "je vais √™tre (√©tat)", "phon": "eu vou estar", "normal": "audio/0106-eu-vou-estar-37893598.mp3"}, {"pt": "eu vou estudar", "fr": "je vais √©tudier", "phon": "eu vou estudar", "normal": "audio/0107-eu-vou-estudar-773edbe2.mp3"}, {"pt": "eu vou falar", "fr": "je vais parler", "phon": "eu vou falar", "normal": "audio/0108-eu-vou-falar-252e091c.mp3"}, {"pt": "eu vou fazer", "fr": "je vais faire", "phon": "eu vou fazer", "normal": "audio/0109-eu-vou-fazer-be528aaa.mp3"}, {"pt": "eu vou fechar", "fr": "je vais fermer", "phon": "eu vou fechar", "normal": "audio/0110-eu-vou-fechar-c6f8156c.mp3"}, {"pt": "eu vou ficar", "fr": "je vais rester / devenir", "phon": "eu vou ficar", "normal": "audio/0111-eu-vou-ficar-761ef41b.mp3"}, {"pt": "eu vou gostar", "fr": "je vais aimer", "phon": "eu vou gostar", "normal": "audio/0112-eu-vou-gostar-49fa2852.mp3"}, {"pt": "eu vou ir", "fr": "je vais aller", "phon": "eu vou ir", "normal": "audio/0113-eu-vou-ir-3100bb2b.mp3"}, {"pt": "eu vou ligar", "fr": "je vais appeler (t√©l√©ph.) / allumer", "phon": "eu vou ligar", "normal": "audio/0114-eu-vou-ligar-6d976459.mp3"}, {"pt": "eu vou morar", "fr": "je vais habiter", "phon": "eu vou morar", "normal": "audio/0115-eu-vou-morar-afd16a2b.mp3"}, {"pt": "eu vou pagar", "fr": "je vais payer", "phon": "eu vou pagar", "normal": "audio/0116-eu-vou-pagar-c992a494.mp3"}, {"pt": "eu vou pedir", "fr": "je vais demander / commander", "phon": "eu vou pedj√Ør", "normal": "audio/0117-eu-vou-pedir-3fe1d30a.mp3"}, {"pt": "eu vou pegar", "fr": "je vais prendre (saisir)", "phon": "eu vou pegar", "normal": "audio/0118-eu-vou-pegar-4c06c8f5.mp3"}, {"pt": "eu vou poder", "fr": "je vais pouvoir", "phon": "eu vou poder", "normal": "audio/0119-eu-vou-poder-868d8a2e.mp3"}, {"pt": "eu vou precisar", "fr": "je vais avoir besoin", "phon": "eu vou precisar", "normal": "audio/0120-eu-vou-precisar-b7033d7c.mp3"}, {"pt": "eu vou sair", "fr": "je vais sortir", "phon": "eu vou sair", "normal": "audio/0121-eu-vou-sair-dead52d5.mp3"}, {"pt": "eu vou ser", "fr": "je vais √™tre", "phon": "eu vou ser", "normal": "audio/0122-eu-vou-ser-ef519643.mp3"}, {"pt": "eu vou ter", "fr": "je vais avoir", "phon": "eu vou ter", "normal": "audio/0123-eu-vou-ter-605f2550.mp3"}, {"pt": "eu vou trabalhar", "fr": "je vais travailler", "phon": "eu vou trabalyar", "normal": "audio/0124-eu-vou-trabalhar-8cf5ebeb.mp3"}, {"pt": "eu vou trazer", "fr": "je vais apporter", "phon": "eu vou trazer", "normal": "audio/0125-eu-vou-trazer-b70d9c4f.mp3"}, {"pt": "eu vou ver", "fr": "je vais voir", "phon": "eu vou ver", "normal": "audio/0126-eu-vou-ver-aae05fa2.mp3"}, {"pt": "eu vou viajar", "fr": "je vais voyager", "phon": "eu vou viajar", "normal": "audio/0127-eu-vou-viajar-23da8e34.mp3"}, {"pt": "fam√≠lia", "fr": "famille", "phon": "familia", "normal": "audio/0128-familia-f851ff6b.mp3"}, {"pt": "febre", "fr": "fi√®vre", "phon": "febr√©", "normal": "audio/0129-febre-8a5bba8c.mp3"}, {"pt": "feira", "fr": "march√© (foire)", "phon": "feira", "normal": "audio/0130-feira-53b766fa.mp3"}, {"pt": "ferias", "fr": "vacances", "phon": "ferias", "normal": "audio/0131-ferias-7ecc7aa7.mp3"}, {"pt": "ferramenta", "fr": "outil", "phon": "fehamenta", "normal": "audio/0132-ferramenta-5918c97f.mp3"}, {"pt": "fevereiro", "fr": "f√©vrier", "phon": "fevereirou", "normal": "audio/0133-fevereiro-f804fc02.mp3"}, {"pt": "fila", "fr": "file d‚Äôattente", "phon": "fila", "normal": "audio/0134-fila-47a5d765.mp3"}, {"pt": "filha", "fr": "fille", "phon": "filya", "normal": "audio/0135-filha-ecc0f8f2.mp3"}, {"pt": "filho", "fr": "fils", "phon": "filyou", "normal": "audio/0136-filho-b85520b6.mp3"}, {"pt": "frete", "fr": "frais de port", "phon": "fret√©", "normal": "audio/0137-frete-0470df3a.mp3"}, {"pt": "furto", "fr": "vol", "phon": "furtou", "normal": "audio/0138-furto-446937b9.mp3"}, {"pt": "gar√ßom", "fr": "serveur", "phon": "garssom", "normal": "audio/0139-garcom-308b8a20.mp3"}, {"pt": "gosto de‚Ä¶", "fr": "j‚Äôaime‚Ä¶", "phon": "gostou d√©‚Ä¶", "normal": "audio/0140-gosto-de-7dda4356.mp3"}, {"pt": "guarda-sol", "fr": "parasol", "phon": "guarda-sol", "normal": "audio/0141-guarda-sol-30d407ab.mp3"}, {"pt": "hist√≥ria", "fr": "histoire", "phon": "historia", "normal": "audio/0142-historia-1d89bb0f.mp3"}, {"pt": "hoje", "fr": "aujourd‚Äôhui", "phon": "hoj√©", "normal": "audio/0143-hoje-b5364edb.mp3"}, {"pt": "inc√™ndio", "fr": "incendie", "phon": "incendj√Øou", "normal": "audio/0144-incendio-f84826e0.mp3"}, {"pt": "irm√£", "fr": "soeur", "phon": "irm√£n", "normal": "audio/0145-irma-2aec3dfc.mp3"}, {"pt": "irm√£o", "fr": "fr√®re", "phon": "irm√£nw", "normal": "audio/0146-irmao-1fa174dc.mp3"}, {"pt": "janeiro", "fr": "janvier", "phon": "janeirou", "normal": "audio/0147-janeiro-3fbb4496.mp3"}, {"pt": "lembran√ßa", "fr": "souvenir", "phon": "lembranssa", "normal": "audio/0148-lembranca-4fac1648.mp3"}, {"pt": "liga√ß√£o", "fr": "appel (t√©l√©phone)", "phon": "ligass√£nw", "normal": "audio/0149-ligacao-eca046c1.mp3"}, {"pt": "login", "fr": "connexion", "phon": "lojin", "normal": "audio/0150-login-2736fab2.mp3"}, {"pt": "l√¢mpada", "fr": "ampoule", "phon": "lampada", "normal": "audio/0151-lampada-e2af9f55.mp3"}, {"pt": "mais tarde", "fr": "plus tard", "phon": "mais tard√©", "normal": "audio/0152-mais-tarde-268a3c92.mp3"}, {"pt": "mapa", "fr": "plan / carte", "phon": "mapa", "normal": "audio/0153-mapa-4a472d01.mp3"}, {"pt": "marido", "fr": "mari", "phon": "maridou", "normal": "audio/0154-marido-e4b88e75.mp3"}, {"pt": "mar√ßo", "fr": "mars", "phon": "marssou", "normal": "audio/0155-marco-f9943b23.mp3"}, {"pt": "mensagem", "fr": "message", "phon": "mensaj√®m", "normal": "audio/0156-mensagem-d3d357c1.mp3"}, {"pt": "metr√¥", "fr": "m√©tro", "phon": "metrou", "normal": "audio/0157-metro-f3aca16b.mp3"}, {"pt": "meu nome √©‚Ä¶", "fr": "je m‚Äôappelle‚Ä¶", "phon": "meu nom√© √®‚Ä¶", "normal": "audio/0158-meu-nome-e-1dda55b7.mp3"}, {"pt": "muito obrigado", "fr": "merci beaucoup (homme)", "phon": "muitou obrigadou", "normal": "audio/0159-muito-obrigado-4f77f39b.mp3"}, {"pt": "m√£e", "fr": "maman", "phon": "m√£n√Ø", "normal": "audio/0160-mae-c936707e.mp3"}, {"pt": "namorado / namorada", "fr": "petit ami / petite amie", "phon": "namoradou / namorada", "normal": "audio/0161-namorado-namorada-a9cb2ca3.mp3"}, {"pt": "nota fiscal", "fr": "facture / ticket de caisse", "phon": "nota fiscal", "normal": "audio/0162-nota-fiscal-1d3b069c.mp3"}, {"pt": "nove", "fr": "neuf", "phon": "nov√©", "normal": "audio/0163-nove-7f52fd19.mp3"}, {"pt": "n√£o", "fr": "non", "phon": "n√£nw", "normal": "audio/0164-nao-23f93a61.mp3"}, {"pt": "n√£o gosto de‚Ä¶", "fr": "je n‚Äôaime pas‚Ä¶", "phon": "n√£nw gostou d√©‚Ä¶", "normal": "audio/0165-nao-gosto-de-715aadb1.mp3"}, {"pt": "oi", "fr": "salut", "phon": "oi", "normal": "audio/0166-oi-ef67e086.mp3"}, {"pt": "oito", "fr": "huit", "phon": "oitou", "normal": "audio/0167-oito-2a67c257.mp3"}, {"pt": "olhos", "fr": "yeux", "phon": "olyos", "normal": "audio/0168-olhos-b97aa341.mp3"}, {"pt": "onde?", "fr": "o√π ?", "phon": "ond√©?", "normal": "audio/0169-onde-9d6c7e15.mp3"}, {"pt": "ontem", "fr": "hier", "phon": "ontem", "normal": "audio/0170-ontem-4a127553.mp3"}, {"pt": "opini√£o", "fr": "opinion", "phon": "opini√£nw", "normal": "audio/0171-opiniao-1024adfc.mp3"}, {"pt": "or√ßamento", "fr": "devis / budget", "phon": "orssamentou", "normal": "audio/0172-orcamento-746a8f42.mp3"}, {"pt": "pai", "fr": "papa", "phon": "pai", "normal": "audio/0173-pai-7525a436.mp3"}, {"pt": "parada", "fr": "arr√™t", "phon": "parada", "normal": "audio/0174-parada-459b3b15.mp3"}, {"pt": "parque", "fr": "parc", "phon": "park√©", "normal": "audio/0175-parque-6aa440a4.mp3"}, {"pt": "passaporte", "fr": "passeport", "phon": "passaport√©", "normal": "audio/0176-passaporte-f19e0e06.mp3"}, {"pt": "pergunta", "fr": "question", "phon": "pergunta", "normal": "audio/0177-pergunta-13957da7.mp3"}, {"pt": "perto / longe", "fr": "pr√®s / loin", "phon": "pertou / lonj√®", "normal": "audio/0178-perto-longe-fd289bf0.mp3"}, {"pt": "pix", "fr": "virement instantan√© (PIX)", "phon": "pix", "normal": "audio/0179-pix-998e7c5f.mp3"}, {"pt": "plataforma", "fr": "quai (plateforme)", "phon": "plataforma", "normal": "audio/0180-plataforma-fa09ef81.mp3"}, {"pt": "pol√≠cia", "fr": "police", "phon": "policia", "normal": "audio/0181-policia-667dddf8.mp3"}, {"pt": "por qu√™?", "fr": "pourquoi ?", "phon": "por k√©?", "normal": "audio/0182-por-que-1bd98289.mp3"}, {"pt": "portaria", "fr": "r√©ception (immeuble/h√¥tel)", "phon": "portaria", "normal": "audio/0183-portaria-487c090c.mp3"}, {"pt": "port√£o", "fr": "porte d‚Äôembarquement", "phon": "port√£nw", "normal": "audio/0184-portao-e2f49bdd.mp3"}, {"pt": "praia", "fr": "plage", "phon": "praia", "normal": "audio/0185-praia-2601f3bd.mp3"}, {"pt": "prato principal", "fr": "plat principal", "phon": "pratou principal", "normal": "audio/0186-prato-principal-ba64179b.mp3"}, {"pt": "prazer", "fr": "enchant√©", "phon": "prazer", "normal": "audio/0187-prazer-9e1874c6.mp3"}, {"pt": "prazo de entrega", "fr": "d√©lai de livraison", "phon": "prazou d√© entrega", "normal": "audio/0188-prazo-de-entrega-5ac9cfae.mp3"}, {"pt": "pra√ßa", "fr": "place (espace urbain)", "phon": "prassa", "normal": "audio/0189-praca-a91a66c1.mp3"}, {"pt": "preciso de‚Ä¶", "fr": "j‚Äôai besoin de‚Ä¶", "phon": "precisou d√©‚Ä¶", "normal": "audio/0190-preciso-de-e566f638.mp3"}, {"pt": "preciso trabalhar", "fr": "je dois travailler / j‚Äôai besoin de travailler", "phon": "precisou trabalyar", "normal": "audio/0191-preciso-trabalhar-855d0612.mp3"}, {"pt": "pre√ßo", "fr": "prix", "phon": "pressou", "normal": "audio/0192-preco-f110c71f.mp3"}, {"pt": "protetor solar", "fr": "cr√®me solaire", "phon": "protetor solar", "normal": "audio/0193-protetor-solar-f86bbb54.mp3"}, {"pt": "provador", "fr": "cabine d‚Äôessayage", "phon": "provador", "normal": "audio/0194-provador-13faa81e.mp3"}, {"pt": "quando?", "fr": "quand ?", "phon": "kandou?", "normal": "audio/0195-quando-21a585df.mp3"}, {"pt": "quanto custa?", "fr": "√ßa co√ªte combien ?", "phon": "kantou custa?", "normal": "audio/0196-quanto-custa-5a4ae7bb.mp3"}, {"pt": "quarta-feira", "fr": "mercredi", "phon": "karta-feira", "normal": "audio/0197-quarta-feira-60b1473c.mp3"}, {"pt": "quarto", "fr": "chambre", "phon": "kartou", "normal": "audio/0198-quarto-ad25d1cf.mp3"}, {"pt": "quatro", "fr": "quatre", "phon": "katrou", "normal": "audio/0199-quatro-a7943ca9.mp3"}, {"pt": "quinta-feira", "fr": "jeudi", "phon": "kinta-feira", "normal": "audio/0200-quinta-feira-48f8d2fa.mp3"}, {"pt": "rastreamento", "fr": "suivi (tracking)", "phon": "rastreamentou", "normal": "audio/0201-rastreamento-65dfeb2d.mp3"}, {"pt": "receita", "fr": "ordonnance", "phon": "receita", "normal": "audio/0202-receita-e3e7b107.mp3"}, {"pt": "recuso", "fr": "je refuse", "phon": "recusou", "normal": "audio/0203-recuso-018ae62e.mp3"}, {"pt": "rede social", "fr": "r√©seau social", "phon": "red√© social", "normal": "audio/0204-rede-social-cd64a6ad.mp3"}, {"pt": "regra", "fr": "r√®gle", "phon": "regra", "normal": "audio/0205-regra-b75728d8.mp3"}, {"pt": "remetente", "fr": "exp√©diteur", "phon": "remetent√©", "normal": "audio/0206-remetente-0a86d693.mp3"}, {"pt": "rem√©dio", "fr": "m√©dicament", "phon": "rem√®dj√Øou", "normal": "audio/0207-remedio-65bd3539.mp3"}, {"pt": "reserva", "fr": "r√©servation", "phon": "reserva", "normal": "audio/0208-reserva-ce2905f4.mp3"}, {"pt": "rotina", "fr": "routine", "phon": "rotchina", "normal": "audio/0209-rotina-ba74c332.mp3"}, {"pt": "sacolinha", "fr": "petit sac (plastique)", "phon": "sacolinya", "normal": "audio/0210-sacolinha-476a0179.mp3"}, {"pt": "sair da conta", "fr": "se d√©connecter", "phon": "sair da conta", "normal": "audio/0211-sair-da-conta-3b792377.mp3"}, {"pt": "saque", "fr": "retrait", "phon": "sak√©", "normal": "audio/0212-saque-325c2633.mp3"}, {"pt": "segunda-feira", "fr": "lundi", "phon": "segunda-feira", "normal": "audio/0213-segunda-feira-f362171c.mp3"}, {"pt": "seis", "fr": "six", "phon": "seis", "normal": "audio/0214-seis-ba157934.mp3"}, {"pt": "selo", "fr": "timbre", "phon": "selou", "normal": "audio/0215-selo-a032abda.mp3"}, {"pt": "sem√°foro", "fr": "feu de circulation", "phon": "semaforou", "normal": "audio/0216-semaforo-fd6b66b5.mp3"}, {"pt": "senha", "fr": "mot de passe", "phon": "senya", "normal": "audio/0217-senha-7751a23f.mp3"}, {"pt": "sentido centro", "fr": "direction centre-ville", "phon": "sentchidou centrou", "normal": "audio/0218-sentido-centro-9beb74d6.mp3"}, {"pt": "sete", "fr": "sept", "phon": "set√©", "normal": "audio/0219-sete-0f961cd8.mp3"}, {"pt": "sexta-feira", "fr": "vendredi", "phon": "sexta-feira", "normal": "audio/0220-sexta-feira-b5a183f5.mp3"}, {"pt": "sim", "fr": "oui", "phon": "sim", "normal": "audio/0221-sim-813221ca.mp3"}, {"pt": "simp√°tico", "fr": "sympathique", "phon": "simpatchicou", "normal": "audio/0222-simpatico-df112970.mp3"}, {"pt": "sinal", "fr": "r√©seau (signal)", "phon": "sinal", "normal": "audio/0223-sinal-58b5d7da.mp3"}, {"pt": "site", "fr": "site (web)", "phon": "sit√©", "normal": "audio/0224-site-c099a42a.mp3"}, {"pt": "sobremesa", "fr": "dessert", "phon": "sobremesa", "normal": "audio/0225-sobremesa-bd30c994.mp3"}, {"pt": "suporte", "fr": "support (aide)", "phon": "suport√©", "normal": "audio/0226-suporte-259d3c91.mp3"}, {"pt": "s√°bado", "fr": "samedi", "phon": "sabadou", "normal": "audio/0227-sabado-1e73aa8e.mp3"}, {"pt": "talvez", "fr": "peut-√™tre", "phon": "talvez", "normal": "audio/0228-talvez-63e7eb19.mp3"}, {"pt": "tamanho", "fr": "taille", "phon": "tamanyou", "normal": "audio/0229-tamanho-581176c7.mp3"}, {"pt": "taxi", "fr": "taxi", "phon": "taxi", "normal": "audio/0230-taxi-4d82205a.mp3"}, {"pt": "ter√ßa-feira", "fr": "mardi", "phon": "terssa-feira", "normal": "audio/0231-terca-feira-5e0e7781.mp3"}, {"pt": "tomada", "fr": "prise √©lectrique", "phon": "tomada", "normal": "audio/0232-tomada-cebbbcd2.mp3"}, {"pt": "trem", "fr": "train", "phon": "trem", "normal": "audio/0233-trem-b727f035.mp3"}, {"pt": "troco", "fr": "monnaie rendue", "phon": "trocou", "normal": "audio/0234-troco-48effd4a.mp3"}, {"pt": "tr√™s", "fr": "trois", "phon": "tres", "normal": "audio/0235-tres-a4316f31.mp3"}, {"pt": "tudo bem?", "fr": "√ßa va ?", "phon": "tudou bem?", "normal": "audio/0236-tudo-bem-b11d18dd.mp3"}, {"pt": "um", "fr": "un", "phon": "um", "normal": "audio/0237-um-ec92b743.mp3"}, {"pt": "usu√°rio", "fr": "identifiant (utilisateur)", "phon": "usuariou", "normal": "audio/0238-usuario-96dd3868.mp3"}, {"pt": "vazamento", "fr": "fuite (eau)", "phon": "vazamentou", "normal": "audio/0239-vazamento-49b55237.mp3"}, {"pt": "vizinho / vizinha", "fr": "voisin / voisine", "phon": "vizinyou / vizinya", "normal": "audio/0240-vizinho-vizinha-411f70c6.mp3"}, {"pt": "voo", "fr": "vol (avion)", "phon": "voou", "normal": "audio/0241-voo-1f9ad01d.mp3"}, {"pt": "wi-fi", "fr": "wifi", "phon": "wi-fi", "normal": "audio/0242-wi-fi-fcd50089.mp3"}, {"pt": "√¥nibus", "fr": "bus", "phon": "onibus", "normal": "audio/0243-onibus-5d9a02c3.mp3"}];
function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} return a; }
function makeQuiz(POOL, limit){ const items=[...POOL]; shuffle(items); if(limit&&limit>0){ items.length=Math.min(limit,items.length);} return items; }
function buildChoices(pool, answer, n=4){
  const others = pool.filter(x => x.pt !== answer.pt);
  shuffle(others);
  const picks = others.slice(0, Math.max(0, n-1));
  return shuffle([...picks, answer]);
}
// --- Acc√®s direct comme les le√ßons : la phon√©tique est dans item.phon ---
function getPhon(x){ return (x && typeof x.phon === 'string') ? x.phon : ''; }
function getFr(x){ return (x && typeof x.fr   === 'string') ? x.fr   : (x && x.fr) || ''; }

function QuizApp(config){
  const AUTO_DELAY_MS = 900;
  const EXTRA_FEEDBACK_MS = 3000; // +3s d'affichage de la r√©ponse
  const TIMER_LIMIT_S = 8;
  const state = { pool:config.pool, idx:0, score:0, total:config.total, optionsCount:4,
                  started:false, paused:false, timerNext:null, countdown:TIMER_LIMIT_S,
                  countdownInterval:null, answered:false, history:[] };
  const elBtnStart   = document.getElementById('btn-start');
  const elBtnPause   = document.getElementById('btn-pause');
  const elBtnResume  = document.getElementById('btn-resume');
  const elBtnRestart = document.getElementById('btn-restart');
  const elQuestion = document.getElementById('qnum');
  const elScore    = document.getElementById('score');
  const elTimer    = document.getElementById('timer');
  const elChoices  = document.getElementById('choices');
  const elResult   = document.getElementById('result');
  const elConfig   = document.getElementById('config');
  const elStage    = document.getElementById('stage');

  function setButtons(){
    elBtnStart.style.display   = state.started ? 'none' : 'inline-flex';
    elBtnPause.style.display   = (state.started && !state.paused) ? 'inline-flex' : 'none';
    elBtnResume.style.display  = (state.started && state.paused) ? 'inline-flex' : 'none';
    elBtnRestart.style.display = state.started ? 'inline-flex' : 'none';
  }
  function clearTimers(){
    if (state.timerNext){ clearTimeout(state.timerNext); state.timerNext = null; }
    if (state.countdownInterval){ clearInterval(state.countdownInterval); state.countdownInterval = null; }
  }
  function scheduleNext(){
    if(state.paused) return;
    if(state.timerNext){clearTimeout(state.timerNext);} 
    state.timerNext = setTimeout(nextQuestion, AUTO_DELAY_MS + EXTRA_FEEDBACK_MS);
  }
  function startCountdown(){
    if (state.countdownInterval){ clearInterval(state.countdownInterval); }
    state.countdown = TIMER_LIMIT_S;
    elTimer.textContent = state.countdown.toString();
    state.countdownInterval = setInterval(() => {
      if (state.paused) return;
      state.countdown -= 1;
      elTimer.textContent = Math.max(0, state.countdown).toString();
      if (state.countdown <= 0){
        clearInterval(state.countdownInterval);
        onTimeout();
      }
    }, 1000);
  }
  function stopCountdown(){ if(state.countdownInterval){ clearInterval(state.countdownInterval); state.countdownInterval=null; }}
  function render(){
    const cur = state.pool[state.idx];
    state.answered = false;
    elQuestion.textContent = (state.idx + 1) + " / " + state.total;
    elScore.textContent = state.score;
    elResult.textContent = "";
    elChoices.innerHTML = "";
    const opts = buildChoices(state.pool, cur, state.optionsCount);
    opts.forEach(opt => {
      const btn = document.createElement('button');
      btn.className = 'choice';
      btn.textContent = opt.pt;
      btn.onclick = () => onAnswer(opt.pt === cur.pt, btn);
      elChoices.appendChild(btn);
    });
    if (!state.paused) {
      stopAudio();
      play(cur.normal);
      startCountdown();
    }
  }
  function lockChoices(){ elChoices.querySelectorAll('.choice').forEach(b => b.disabled = true); }
  function markCorrect(){
    elChoices.querySelectorAll('.choice').forEach(b => {
      if (b.textContent === state.pool[state.idx].pt) b.classList.add('correct');
    });
  }
  function showFeedback(item, isCorrect){
    const phon = getPhon(item);
    const fr   = getFr(item);
    const icon = isCorrect ? '‚úÖ' : '‚ùå';
    const title = isCorrect ? 'Correct !' : 'Mauvaise r√©ponse.';
    elResult.innerHTML = "<div class=\"feedback\">"+
      `<div class="fb-title">${icon} ${title}</div>`+
      `<div class="fb-pt"><strong>Portugais :</strong> ${item.pt || ''}</div>`+
      `<div class="fb-phon"><strong>Phon√©tique :</strong> ${phon || '‚Äî'}</div>`+
      `<div class="fb-fr"><strong>Fran√ßais :</strong> ${fr || '‚Äî'}</div>`+
    "</div>";
  }
  function onAnswer(isCorrect, btn){
    if (state.answered) return;
    state.answered = true;
    stopCountdown();
    lockChoices();
    if (isCorrect){ btn.classList.add('correct'); state.score += 1; }
    else { btn.classList.add('wrong'); markCorrect(); }
    elScore.textContent = state.score;
    const item = state.pool[state.idx];
    showFeedback(item, isCorrect);
    state.history.push({ pt: item.pt || '', phon: getPhon(item), fr: getFr(item), correct: !!isCorrect });
    scheduleNext();
  }
  function onTimeout(){
    if (state.answered) return;
    state.answered = true;
    lockChoices(); markCorrect();
    const item = state.pool[state.idx];
    showFeedback(item, false);
    state.history.push({ pt: item.pt || '', phon: getPhon(item), fr: getFr(item), correct: false });
    scheduleNext();
  }
  function buildSummary(entries){
    const rows = entries.map((e,i)=>{
      const status = e.correct ? '‚úÖ' : '‚ùå';
      return `<tr class="row-${e.correct?'ok':'ko'}">`
           + `<td>${i+1}</td>`
           + `<td>${status}</td>`
           + `<td>${e.pt || ''}</td>`
           + `<td>${e.phon || '‚Äî'}</td>`
           + `<td>${e.fr || '‚Äî'}</td>`
           + `</tr>`;
    }).join('');
    const score = `${state.score} / ${state.total}`;
    return (
      `<div class="summary">`
      + `<div class="summary-title">üéâ Termin√© ! Score : ${score}</div>`
      + `<table class="summary-table">`
      + `<thead><tr><th>#</th><th>OK</th><th>Portugais</th><th>Phon√©tique</th><th>Fran√ßais</th></tr></thead>`
      + `<tbody>${rows}</tbody>`
      + `</table>`
      + `</div>`
    );
  }
  function nextQuestion(){
    clearTimers();
    if (state.idx + 1 >= state.total){
      elChoices.innerHTML = "";
      elResult.innerHTML = buildSummary(state.history);
      setButtons();
      return;
    }
    state.idx += 1; render();
  }
  // Controls
  elBtnStart.onclick = () => {
    const sel = document.getElementById('qcount');
    const total = parseInt(sel.value, 10) || 10;
    state.history = [];
    state.pool = makeQuiz(state.pool, total);
    state.total = state.pool.length;
    state.idx = 0; state.score = 0; state.started = true; state.paused = false;
    clearTimers(); stopAudio(); elConfig.style.display = 'none'; elStage.style.display = 'block';
    render(); setButtons();
  };
  elBtnPause.onclick = () => { state.paused = true; clearTimers(); stopAudio(); setButtons(); };
  elBtnResume.onclick = () => { state.paused = false; setButtons(); render(); };
  elBtnRestart.onclick = () => { clearTimers(); state.started=false; state.paused=false; state.idx=0; state.score=0; stopAudio(); elStage.style.display='none'; elConfig.style.display='block'; setButtons(); };
  setButtons();
}
function startQuiz(POOL){ QuizApp({ pool: POOL, total: POOL.length }); }

/* CSS sugg√©r√© (optionnel)
  .feedback { margin-top: .5rem; line-height:1.4; }
  .fb-title { font-weight:600; margin-bottom:.25rem; }
  .summary { margin-top: .75rem; }
  .summary-title { font-weight:700; margin-bottom:.5rem; }
  .summary-table { width:100%; border-collapse: collapse; }
  .summary-table th, .summary-table td { border:1px solid #ddd; padding:.35rem .5rem; text-align:left; }
  .row-ok td { background: #f2fbf4; }
  .row-ko td { background: #fff5f5; }
*/

startQuiz(POOL);</script>
</body>
</html>
